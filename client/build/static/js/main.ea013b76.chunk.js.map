{"version":3,"sources":["constants/productConstants.js","constants/cartConstants.js","constants/toastConstants.js","components/Toast/assets/check.svg","components/Toast/assets/error.svg","components/Toast/assets/info.svg","components/Toast/assets/warning.svg","components/Toast/toastUtils.js","constants/userConstants.js","constants/orderConstants.js","store.js","reducers/productReducer.js","reducers/toastReducer.js","reducers/cartReducer.js","reducers/userReducer.js","reducers/orderReducer.js","actions/toastActions.js","actions/userActions.js","components/SearchBox.js","components/Header.js","components/Toast/Toast.js","components/Footer.js","components/Meta.js","actions/productActions.js","components/Rating.js","components/ImageLoader.js","components/Product.js","components/Loader.js","components/Paginate.js","components/Carousel.js","screens/HomeScreen.js","components/SelectRating.js","screens/ProductScreen.js","actions/cartActions.js","screens/CartScreen.js","screens/Loginscreen.js","screens/RegisterScreen.js","screens/ProfileScreen.js","components/CheckoutSteps.js","screens/ShippingScreen.js","screens/PaymentScreen.js","screens/PlaceOrderScreen.js","actions/orderActions.js","screens/OrderScreen.js","screens/OrderHistoryScreen.js","screens/UserListScreen.js","screens/UserEditScreen.js","screens/ProductListScreen.js","screens/ProductEditScreen.js","screens/OrderListScreen.js","App.js","index.js"],"names":["PRODUCT_LIST_REQUEST","PRODUCT_LIST_SUCCESS","PRODUCT_LIST_FAIL","PRODUCT_DETAILS_FAIL","PRODUCT_DETAILS_SUCCESS","PRODUCT_DETAILS_REQUEST","PRODUCT_DELETE_FAIL","PRODUCT_DELETE_SUCCESS","PRODUCT_DELETE_REQUEST","PRODUCT_CREATE_FAIL","PRODUCT_CREATE_SUCCESS","PRODUCT_CREATE_REQUEST","PRODUCT_UPDATE_FAIL","PRODUCT_UPDATE_SUCCESS","PRODUCT_UPDATE_REQUEST","PRODUCT_UPDATE_RESET","PRODUCT_CREATE_REVIEW_FAIL","PRODUCT_CREATE_REVIEW_SUCCESS","PRODUCT_CREATE_REVIEW_REQUEST","PRODUCT_CREATE_REVIEW_RESET","PRODUCT_TOP_SUCCESS","PRODUCT_TOP_REQUEST","CART_ADD_ITEM","CART_REMOVE_ITEM","CART_SAVE_SHIPPING_ADDRESS","CART_SAVE_PAYMENT_METHOD","SET_TOAST","SET_LIST","returnToast","message","title","type","toLowerCase","id","uuidv4","description","backgroundColor","icon","checkIcon","errorIcon","warningIcon","infoIcon","USER_LOGIN_REQUEST","USER_LOGIN_SUCCESS","USER_LOGIN_FAIL","USER_CLEAR_LOGIN_FAIL","USER_LOGOUT","USER_REGISTER_REQUEST","USER_REGISTER_SUCCESS","USER_REGISTER_FAIL","USER_DETAILS_REQUEST","USER_DETAILS_SUCCESS","USER_DETAILS_FAIL","USER_DETAILS_RESET","USER_UPDATE_PROFILE_REQUEST","USER_UPDATE_PROFILE_SUCCESS","USER_UPDATE_PROFILE_FAIL","USER_UPDATE_PROFILE_RESET","USER_LIST_REQUEST","USER_LIST_SUCCESS","USER_LIST_FAIL","USER_LIST_RESET","USER_DELETE_REQUEST","USER_DELETE_SUCCESS","USER_DELETE_FAIL","USER_UPDATE_REQUEST","USER_UPDATE_SUCCESS","USER_UPDATE_FAIL","USER_UPDATE_RESET","ORDER_CREATE_REQUEST","ORDER_CREATE_SUCCESS","ORDER_CREATE_FAIL","ORDER_DETAILS_REQUEST","ORDER_DETAILS_SUCCESS","ORDER_DETAILS_FAIL","ORDER_PAY_REQUEST","ORDER_PAY_SUCCESS","ORDER_PAY_FAIL","ORDER_PAY_RESET","ORDER_LIST_MY_REQUEST","ORDER_LIST_MY_SUCCESS","ORDER_LIST_MY_FAIL","ORDER_LIST_MY_RESET","ORDER_LISTALL_REQUEST","ORDER_LISTALL_SUCCESS","ORDER_LISTALL_FAIL","ORDER_DELIVER_REQUEST","ORDER_DELIVER_SUCCESS","ORDER_DELIVER_FAIL","ORDER_DELIVER_RESET","reducer","combineReducers","productList","state","products","reviews","action","loading","payload","pages","page","error","productDetails","product","productDelete","success","productCreate","productUpdate","productTopRated","productReviewCreate","toastList","newToast","filter","toast","cart","cartItems","shippingAddress","item","existItem","find","x","map","paymentMethod","userLogin","userInfo","userRegister","userDetails","user","userUpdateProfile","userList","users","userDelete","userUpdate","orderCreate","order","orderDetails","orderItems","orderPay","orderDeliver","orderListMy","orders","orderListAll","cartItemsFromStorage","localStorage","getItem","JSON","parse","userInfoFromStorage","initialState","middleware","thunk","store","createStore","composeWithDevTools","applyMiddleware","setToast","dispatch","deleteToast","getUserDetails","getState","a","config","headers","Authorization","token","axios","data","response","msg","SearchBox","history","useState","keyword","setKeyword","className","onSubmit","e","preventDefault","trim","push","style","borderRadius","height","fontSize","onChange","target","value","placeholder","htmlFor","Header","match","useDispatch","useHistory","useSelector","toggleUserMenu","setToggleUserMenu","to","flex","onClick","name","onMouseLeave","removeItem","document","location","href","isAdmin","Toast","position","autoDelete","dismissTime","useEffect","interval","setInterval","length","clearInterval","i","src","alt","Footer","Meta","ico","Helmet","content","rel","defaultProps","keywords","listProducts","pageNumber","listProductsDetails","Rating","rating","numOfStars","color","text","Array","star","ImageLoader","backupSrc","imageLoaded","setImageLoaded","loadingError","setLoadingError","image","onLoad","onError","Product","_id","numReviews","price","Loader","top","left","transform","Paginate","keys","p","Carousel","topProducts","index","paused","pause","setPause","useRef","current","console","log","backgroundImage","HomeScreen","params","sort","b","slice","SelectRating","setRating","cursor","ProductScreen","qty","setQty","comment","setComment","successProductReview","countInStock","marginTop","disabled","review","Date","createdAt","toLocaleDateString","display","width","productId","post","addToCart","setItem","stringify","CartScreen","search","Number","split","removeFromCartHandler","removeFromCart","maxWidth","reduce","acc","toFixed","Loginscreen","email","setEmail","password","setPassword","redirect","login","required","RegisterScreen","confirmPassword","setConfirmPassword","setName","register","ProfileScreen","put","updateUserProfile","CheckoutSteps","step1","step2","step3","step4","ShippingScreen","address","setAddress","city","setCity","postalCode","setPostalCode","country","setCountry","PaymentScreen","setPaymentMethod","label","checked","PlaceOrderScreen","addDecimals","num","Math","round","itemsPrice","shippingPrice","taxPrice","totalPrice","createOrder","orderId","sdkReady","setSdkReady","loadingPay","successPay","addPayPalScript","clientId","script","createElement","async","onload","body","appendChild","getOrderDetails","isPaid","window","paypal","amount","onSuccess","paymentResult","payOrder","OrderHistoryScreen","loadingOrders","paidAt","isDelivered","UserListScreen","successDelete","handleDelete","confirm","delete","UserEditScreen","userId","setIsAdmin","loadingUpdate","successUpdate","updateUser","loadingDelete","succesDelete","loadingCreate","successCreate","deleteProduct","category","ProductEditScreen","setPrice","setImage","brand","setBrand","setCategory","setCountInStock","setDescription","uploading","setupLoading","uploadFileHandler","file","files","formData","FormData","append","updateProduct","OrderListScreen","successDeliver","handleMarkedDelivered","deliverOrder","status","email_address","App","path","exact","component","OrderScreen","ProductListScreen","ReactDOM","render","querySelector"],"mappings":"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","file":"static/js/main.ea013b76.chunk.js","sourcesContent":["export const PRODUCT_LIST_REQUEST = 'PRODUCT_LIST_REQUEST'\r\nexport const PRODUCT_LIST_SUCCESS = 'PRODUCT_LIST_SUCCESS'\r\nexport const PRODUCT_LIST_FAIL = 'PRODUCT_LIST_FAIL'\r\nexport const PRODUCT_DETAILS_FAIL = 'PRODUCT_DETAILS_FAIL'\r\nexport const PRODUCT_DETAILS_SUCCESS = 'PRODUCT_DETAILS_SUCCESS'\r\nexport const PRODUCT_DETAILS_REQUEST = 'PRODUCT_DETAILS_REQUEST'\r\n\r\nexport const PRODUCT_DELETE_FAIL = 'PRODUCT_DELETE_FAIL'\r\nexport const PRODUCT_DELETE_SUCCESS = 'PRODUCT_DELETE_SUCCESS'\r\nexport const PRODUCT_DELETE_REQUEST = 'PRODUCT_DELETE_REQUEST'\r\n\r\nexport const PRODUCT_CREATE_FAIL = 'PRODUCT_CREATE_FAIL'\r\nexport const PRODUCT_CREATE_SUCCESS = 'PRODUCT_CREATE_SUCCESS'\r\nexport const PRODUCT_CREATE_REQUEST = 'PRODUCT_CREATE_REQUEST'\r\nexport const PRODUCT_CREATE_RESET = 'PRODUCT_CREATE_RESET'\r\n\r\nexport const PRODUCT_UPDATE_FAIL = 'PRODUCT_UPDATE_FAIL'\r\nexport const PRODUCT_UPDATE_SUCCESS = 'PRODUCT_UPDATE_SUCCESS'\r\nexport const PRODUCT_UPDATE_REQUEST = 'PRODUCT_UPDATE_REQUEST'\r\nexport const PRODUCT_UPDATE_RESET = 'PRODUCT_UPDATE_RESET'\r\n\r\nexport const PRODUCT_CREATE_REVIEW_FAIL = 'PRODUCT_CREATE_REVIEW_FAIL'\r\nexport const PRODUCT_CREATE_REVIEW_SUCCESS = 'PRODUCT_CREATE_REVIEW_SUCCESS'\r\nexport const PRODUCT_CREATE_REVIEW_REQUEST = 'PRODUCT_CREATE_REVIEW_REQUEST'\r\nexport const PRODUCT_CREATE_REVIEW_RESET = 'PRODUCT_CREATE_REVIEW_RESET'\r\n\r\nexport const PRODUCT_TOP_FAIL = 'PRODUCT_TOP_FAIL'\r\nexport const PRODUCT_TOP_SUCCESS = 'PRODUCT_TOP_SUCCESS'\r\nexport const PRODUCT_TOP_REQUEST = 'PRODUCT_TOP_REQUEST'\r\nexport const PRODUCT_TOP_RESET = 'PRODUCT_TOP_RESET'","export const CART_ADD_ITEM = 'CART_ADD_ITEM'\r\nexport const CART_REMOVE_ITEM = 'CART_REMOVE_ITEM'\r\nexport const CART_SAVE_SHIPPING_ADDRESS = 'CART_SAVE_SHIPPING_ADDRESS'\r\nexport const CART_SAVE_PAYMENT_METHOD = 'CART_SAVE_PAYMENT_METHOD'","export const SET_TOAST = 'SET_TOAST'\r\nexport const SET_LIST = 'SET_LIST'","export default __webpack_public_path__ + \"static/media/check.d639b7bb.svg\";","export default __webpack_public_path__ + \"static/media/error.f4c49f9a.svg\";","export default __webpack_public_path__ + \"static/media/info.b6c887b0.svg\";","export default __webpack_public_path__ + \"static/media/warning.9bbdb2f3.svg\";","import { v4 as uuidv4 } from 'uuid'\nimport checkIcon from './assets/check.svg'\nimport errorIcon from './assets/error.svg'\nimport infoIcon from './assets/info.svg'\nimport warningIcon from './assets/warning.svg'\n\nexport const returnToast = (message, title=\"\") => {\n   \n    switch (message.type.toLowerCase()) {\n        case \"success\":\n            return {\n                id: uuidv4(),\n                title,\n                description: message.message,\n                backgroundColor: '#5cb85c',\n                icon: checkIcon\n            }\n        case \"error\":\n            return {\n                id: uuidv4(),\n                title: title,\n                description: message.message,\n                backgroundColor: '#FF0000',\n                icon: errorIcon\n            }\n        case \"warning\":\n            return {\n                id: uuidv4(),\n                title,\n                description: message.message,\n                backgroundColor: '#f0ad4e',\n                icon: warningIcon\n            }\n\n        default:\n            return {\n                id: uuidv4(),\n                title: title,\n                description: message.message,\n                backgroundColor: '#5bc0de',\n                icon: infoIcon\n            }\n    }\n}\n\n\n\n","export const USER_LOGIN_REQUEST = 'USER_LOGIN_REQUEST'\r\nexport const USER_LOGIN_SUCCESS = 'USER_LOGIN_SUCCESS'\r\nexport const USER_LOGIN_FAIL = 'USER_LOGIN_FAIL'\r\nexport const USER_CLEAR_LOGIN_FAIL = 'USER_CLEAR_LOGIN_FAIL'\r\nexport const USER_LOGOUT = 'USER_LOGOUT'\r\nexport const USER_REGISTER_REQUEST = 'USER_REGISTER_REQUEST'\r\nexport const USER_REGISTER_SUCCESS = 'USER_REGISTER_SUCCESS'\r\nexport const USER_REGISTER_FAIL = 'USER_REGISTER_FAIL'\r\n\r\nexport const USER_DETAILS_REQUEST = 'USER_DETAILS_REQUEST'\r\nexport const USER_DETAILS_SUCCESS = 'USER_DETAILS_SUCCESS'\r\nexport const USER_DETAILS_FAIL = 'USER_DETAILS_FAIL'\r\nexport const USER_DETAILS_RESET = 'USER_DETAILS_RESET'\r\n\r\nexport const USER_UPDATE_PROFILE_REQUEST = 'USER_UPDATE_REQUEST'\r\nexport const USER_UPDATE_PROFILE_SUCCESS = 'USER_UPDATE_SUCCESS'\r\nexport const USER_UPDATE_PROFILE_FAIL = 'USER_UPDATE_FAIL'\r\nexport const USER_UPDATE_PROFILE_RESET = 'USER_UPDATE_PROFILE_RESET'\r\nexport const USER_UPDATE_PROFILE_CLEAR = 'USER_UPDATE_PROFILE_CLEAR'\r\n\r\nexport const USER_LIST_REQUEST = 'USER_LIST_REQUEST'\r\nexport const USER_LIST_SUCCESS = 'USER_LIST_SUCCESS'\r\nexport const USER_LIST_FAIL = 'USER_LIST_FAIL'\r\nexport const USER_LIST_RESET = 'USER_LIST_RESET'\r\n\r\nexport const USER_DELETE_REQUEST = 'USER_DELETE_REQUEST'\r\nexport const USER_DELETE_SUCCESS = 'USER_DELETE_SUCCESS'\r\nexport const USER_DELETE_FAIL = 'USER_DELETE_FAIL'\r\n\r\nexport const USER_UPDATE_REQUEST = 'USER_UPDATE_REQUEST'\r\nexport const USER_UPDATE_SUCCESS = 'USER_UPDATE_SUCCESS'\r\nexport const USER_UPDATE_FAIL = 'USER_UPDATE_FAIL'\r\nexport const USER_UPDATE_RESET = 'USER_UPDATE_RESET'","export const ORDER_CREATE_REQUEST = ' ORDER_CREATE_REQUEST'\r\nexport const ORDER_CREATE_SUCCESS = ' ORDER_CREATE_SUCCESS'\r\nexport const ORDER_CREATE_FAIL = ' ORDER_CREATE_FAIL'\r\n\r\nexport const ORDER_DETAILS_REQUEST = ' ORDER_DETAILS_REQUEST'\r\nexport const ORDER_DETAILS_SUCCESS = ' ORDER_DETAILS_SUCCESS'\r\nexport const ORDER_DETAILS_FAIL = ' ORDER_DETAILS_FAIL'\r\n\r\nexport const ORDER_PAY_REQUEST = ' ORDER_PAY_REQUEST'\r\nexport const ORDER_PAY_SUCCESS = ' ORDER_PAY_SUCCESS'\r\nexport const ORDER_PAY_FAIL = ' ORDER_PAY_FAIL'\r\nexport const ORDER_PAY_RESET = ' ORDER_PAY_RESET'\r\n\r\nexport const ORDER_LIST_MY_REQUEST = ' ORDER_LIST_MY_REQUEST'\r\nexport const ORDER_LIST_MY_SUCCESS = ' ORDER_LIST_MY_SUCCESS'\r\nexport const ORDER_LIST_MY_FAIL = ' ORDER_LIST_MY_FAIL'\r\nexport const ORDER_LIST_MY_RESET = ' ORDER_LIST_MY_RESET'\r\n\r\nexport const ORDER_LISTALL_REQUEST = ' ORDER_LISTALL_REQUEST'\r\nexport const ORDER_LISTALL_SUCCESS = ' ORDER_LISTALL_SUCCESS'\r\nexport const ORDER_LISTALL_FAIL = ' ORDER_LISTALL_FAIL'\r\nexport const ORDER_LISTALL_RESET = ' ORDER_LISTALL_RESET'\r\n\r\nexport const ORDER_DELIVER_REQUEST = ' ORDER_DELIVER_REQUEST'\r\nexport const ORDER_DELIVER_SUCCESS = ' ORDER_DELIVER_SUCCESS'\r\nexport const ORDER_DELIVER_FAIL = ' ORDER_DELIVER_FAIL'\r\nexport const ORDER_DELIVER_RESET = ' ORDER_DELIVER_RESET'","import { createStore, combineReducers, applyMiddleware} from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport { productListReducer, productDetailsReducer, productDeleteReducer, productCreateReducer, productUpdateReducer, productReviewCreateReducer, productTopRatedReducer } from './reducers/productReducer'\r\nimport { cartReducer } from './reducers/cartReducer'\r\nimport { toastReducer } from './reducers/toastReducer'\r\nimport { userDeleteReducer, userDetailsReducer, userListReducer, userLoginReducer, userRegisterReducer, userUpdateProfileReducer, userUpdateReducer } from './reducers/userReducer'\r\nimport { orderCreateReducer, orderDeliverReducer, orderDetailsReducer, orderListALLReducer, orderListMyReducer, orderPayReducer } from './reducers/orderReducer'\r\n\r\nconst reducer = combineReducers({\r\n    productList: productListReducer,\r\n    productDetails: productDetailsReducer,\r\n    productDelete: productDeleteReducer,\r\n    productCreate: productCreateReducer,\r\n    productUpdate: productUpdateReducer,\r\n    productTopRated: productTopRatedReducer,\r\n    productReviewCreate: productReviewCreateReducer,\r\n    toastList: toastReducer,\r\n    cart: cartReducer,\r\n    userLogin: userLoginReducer,\r\n    userRegister: userRegisterReducer,\r\n    userDetails: userDetailsReducer,\r\n    userUpdateProfile: userUpdateProfileReducer,\r\n    userList: userListReducer,\r\n    userDelete: userDeleteReducer,\r\n    userUpdate: userUpdateReducer,\r\n    orderCreate: orderCreateReducer,\r\n    orderDetails: orderDetailsReducer,\r\n    orderPay: orderPayReducer,\r\n    orderDeliver: orderDeliverReducer,\r\n    orderListMy: orderListMyReducer,\r\n    orderListAll: orderListALLReducer,\r\n})\r\n\r\nconst cartItemsFromStorage = localStorage.getItem('cartItems') ? JSON.parse(localStorage.getItem('cartItems')) : []\r\nconst userInfoFromStorage = localStorage.getItem('userInfo') ? JSON.parse(localStorage.getItem('userInfo')) : null\r\nconst shippingAddressFromStorage = localStorage.getItem('shippingAddress') ? JSON.parse(localStorage.getItem('shippingAddress')) : {}\r\n\r\nconst initialState = {\r\n    cart: {cartItems: cartItemsFromStorage,\r\n           shippingAddress: shippingAddressFromStorage\r\n    },\r\n    userLogin: { userInfo: userInfoFromStorage },\r\n\r\n}\r\n\r\nconst middleware = [thunk]\r\n\r\nconst store = createStore(reducer, initialState, composeWithDevTools(applyMiddleware(...middleware)))\r\n\r\nexport default store","import { PRODUCT_LIST_REQUEST, PRODUCT_LIST_FAIL, PRODUCT_LIST_SUCCESS, PRODUCT_DETAILS_REQUEST, PRODUCT_DETAILS_FAIL, PRODUCT_DETAILS_SUCCESS, PRODUCT_DELETE_REQUEST, PRODUCT_DELETE_SUCCESS, PRODUCT_DELETE_FAIL, PRODUCT_CREATE_REQUEST, PRODUCT_CREATE_FAIL, PRODUCT_CREATE_SUCCESS, PRODUCT_UPDATE_REQUEST, PRODUCT_UPDATE_SUCCESS, PRODUCT_UPDATE_FAIL, PRODUCT_UPDATE_RESET, PRODUCT_CREATE_REVIEW_REQUEST, PRODUCT_CREATE_REVIEW_SUCCESS, PRODUCT_CREATE_REVIEW_FAIL, PRODUCT_CREATE_REVIEW_RESET, PRODUCT_TOP_REQUEST, PRODUCT_TOP_SUCCESS } from '../constants/productConstants'\r\n\r\nexport const productListReducer = (state = { products: [], reviews: [] }, action) => {\r\n    switch (action.type) {\r\n        case PRODUCT_LIST_REQUEST:\r\n            return { loading: true }\r\n        case PRODUCT_LIST_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                products: action.payload.products,\r\n                pages: action.payload.pages,\r\n                page: action.payload.page\r\n            }\r\n        case PRODUCT_LIST_FAIL:\r\n            return {\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport const productDetailsReducer = (state = { product: { reviews: []} }, action) => {  //state = { product: { reviews: [] } }\r\n    switch (action.type) {\r\n        case PRODUCT_DETAILS_REQUEST:\r\n            return { loading: true, ...state }\r\n        case PRODUCT_DETAILS_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                product: action.payload\r\n            }\r\n        \r\n        case PRODUCT_DETAILS_FAIL:\r\n            return {\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport const productDeleteReducer = (state = { product: {} }, action) => {\r\n    switch (action.type) {\r\n        case PRODUCT_DELETE_REQUEST:\r\n            return { loading: true }\r\n        case PRODUCT_DELETE_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                success: true\r\n            }\r\n        case PRODUCT_DELETE_FAIL:\r\n            return {\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport const productCreateReducer = (state = { product: {} }, action) => {\r\n    switch (action.type) {\r\n        case PRODUCT_CREATE_REQUEST:\r\n            return { loading: true }\r\n        case PRODUCT_CREATE_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                success: true\r\n            }\r\n        case PRODUCT_CREATE_FAIL:\r\n            return {\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport const productUpdateReducer = (state = { product: {} }, action) => {\r\n    switch (action.type) {\r\n        case PRODUCT_UPDATE_REQUEST:\r\n            return { loading: true }\r\n        case PRODUCT_UPDATE_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                success: true\r\n            }\r\n        case PRODUCT_UPDATE_FAIL:\r\n            return {\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n        case PRODUCT_UPDATE_RESET:\r\n            return {\r\n                product: {}\r\n            }\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport const productReviewCreateReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n        case PRODUCT_CREATE_REVIEW_REQUEST:\r\n            return { loading: true }\r\n        case PRODUCT_CREATE_REVIEW_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                success: true\r\n            }\r\n        case PRODUCT_CREATE_REVIEW_FAIL:\r\n            return {\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n        case PRODUCT_CREATE_REVIEW_RESET:\r\n            return {}\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport const productTopRatedReducer = (state = {products: []}, action) => {\r\n    switch (action.type) {\r\n        case PRODUCT_TOP_REQUEST:\r\n            return { loading: true, products: [] }\r\n        case PRODUCT_TOP_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                products: action.payload\r\n            }\r\n        case PRODUCT_CREATE_REVIEW_FAIL:\r\n            return {\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n        default: return state\r\n    }\r\n}","import { SET_TOAST, SET_LIST } from '../constants/toastConstants';\r\nimport { returnToast } from '../components/Toast/toastUtils'\r\n\r\n    export const toastReducer = (state = { toastList: [] }, action) => {\r\n    \r\n    switch (action.type) {\r\n        case SET_TOAST:\r\n            const newToast = returnToast(action.payload)\r\n            \r\n            return {\r\n                toastList: [...state.toastList, newToast],\r\n            }\r\n        case SET_LIST:\r\n            return {\r\n                toastList: state.toastList.filter(toast => toast.id !== action.payload)\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}","import { CART_ADD_ITEM, CART_REMOVE_ITEM, CART_SAVE_PAYMENT_METHOD, CART_SAVE_SHIPPING_ADDRESS } from '../constants/cartConstants'\r\n\r\nexport const cartReducer = (state = { cartItems: [], shippingAddress: {} }, action) => {\r\n\r\n    switch (action.type) {\r\n        case CART_ADD_ITEM:\r\n            const item = action.payload\r\n\r\n            const existItem = state.cartItems.find(x => x.product === item.product)  //check to see if item is already in cart\r\n\r\n            if (existItem) {\r\n                return {\r\n                    ...state,\r\n                    cartItems: state.cartItems.map(x => x.product === existItem.product ? item : x) //map thru current items and if item exists 'replace' it with updated item (qty)\r\n                }\r\n\r\n            } else {\r\n                return {\r\n                    ...state,\r\n                    cartItems: [...state.cartItems, item]\r\n                }\r\n            }\r\n\r\n        case CART_REMOVE_ITEM:\r\n            return {\r\n                ...state,\r\n                cartItems: state.cartItems.filter(x => x.product !== action.payload)\r\n            }\r\n\r\n        case CART_SAVE_SHIPPING_ADDRESS:\r\n            return {\r\n                ...state,\r\n                shippingAddress: action.payload\r\n            }\r\n\r\n        case CART_SAVE_PAYMENT_METHOD:\r\n            return {\r\n                ...state,\r\n                paymentMethod: action.payload\r\n            }\r\n\r\n        default: return state\r\n    }\r\n}","import { USER_LOGIN_FAIL, USER_LOGIN_SUCCESS, USER_LOGIN_REQUEST, USER_LOGOUT, USER_CLEAR_LOGIN_FAIL, USER_REGISTER_REQUEST, USER_REGISTER_SUCCESS, USER_REGISTER_FAIL, USER_DETAILS_REQUEST, USER_DETAILS_FAIL, USER_DETAILS_SUCCESS, USER_UPDATE_PROFILE_REQUEST, USER_UPDATE_PROFILE_SUCCESS, USER_UPDATE_PROFILE_RESET, USER_DETAILS_RESET, USER_LIST_REQUEST, USER_LIST_FAIL, USER_LIST_SUCCESS, USER_LIST_RESET, USER_DELETE_REQUEST, USER_DELETE_SUCCESS, USER_DELETE_FAIL, USER_UPDATE_REQUEST, USER_UPDATE_SUCCESS, USER_UPDATE_FAIL, USER_UPDATE_RESET} from '../constants/userConstants'\r\n\r\nexport const userLoginReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n        case USER_LOGIN_REQUEST:\r\n            return { loading: true }\r\n        case USER_LOGIN_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                userInfo: action.payload\r\n            }\r\n        case USER_LOGIN_FAIL:\r\n            return {\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n        case USER_CLEAR_LOGIN_FAIL:\r\n            return {\r\n                ...state,\r\n                error: \"\"\r\n            }\r\n        case USER_LOGOUT:\r\n            return {}\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport const userRegisterReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n        case USER_REGISTER_REQUEST:\r\n            return { loading: true }\r\n        case USER_REGISTER_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                userInfo: action.payload\r\n            }\r\n        case USER_REGISTER_FAIL:\r\n            return {\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n        case USER_LOGOUT:\r\n            return {}\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport const userDetailsReducer = (state = { user: {} }, action) => {\r\n    switch (action.type) {\r\n        case USER_DETAILS_REQUEST:\r\n            return { loading: true }\r\n        case USER_DETAILS_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                user: action.payload\r\n            }\r\n        case USER_DETAILS_FAIL:\r\n            return {\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n        case USER_DETAILS_RESET:\r\n            return {\r\n                user: {}\r\n            }\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport const userUpdateProfileReducer = (state = { user: {} }, action) => {\r\n    switch (action.type) {\r\n        case USER_UPDATE_PROFILE_REQUEST:\r\n            return { loading: true }\r\n        case USER_UPDATE_PROFILE_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                userInfo: action.payload,\r\n                success: true\r\n            }\r\n        case USER_DETAILS_FAIL:\r\n            return {\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n        case USER_UPDATE_PROFILE_RESET:\r\n            return {}\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport const userListReducer = (state = { users: [] }, action) => {\r\n    switch (action.type) {\r\n        case USER_LIST_REQUEST:\r\n            return { loading: true }\r\n        case USER_LIST_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                users: action.payload\r\n            }\r\n        case USER_LIST_FAIL:\r\n            return {\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n        case USER_LIST_RESET:\r\n            return {\r\n                users: []\r\n            }\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport const userDeleteReducer = (state = { }, action) => {\r\n    switch (action.type) {\r\n        case USER_DELETE_REQUEST:\r\n            return { loading: true }\r\n        case USER_DELETE_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                success: true\r\n            }\r\n        case USER_DELETE_FAIL:\r\n            return {\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport const userUpdateReducer = (state = { }, action) => {\r\n    switch (action.type) {\r\n        case USER_UPDATE_REQUEST:\r\n            return { loading: true }\r\n        case USER_UPDATE_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                success: true\r\n            }\r\n        case USER_UPDATE_FAIL:\r\n            return {\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n        case USER_UPDATE_RESET:\r\n            return {\r\n                user: {}\r\n            }\r\n        default: return state\r\n    }\r\n}","\r\nimport { ORDER_CREATE_FAIL, ORDER_CREATE_REQUEST, ORDER_CREATE_SUCCESS, ORDER_DETAILS_FAIL, ORDER_DETAILS_REQUEST, ORDER_DETAILS_SUCCESS, ORDER_LIST_MY_FAIL, ORDER_LIST_MY_REQUEST, ORDER_LIST_MY_SUCCESS, ORDER_PAY_FAIL, ORDER_PAY_REQUEST, ORDER_PAY_RESET, ORDER_PAY_SUCCESS, ORDER_LIST_MY_RESET, ORDER_LISTALL_REQUEST, ORDER_LISTALL_SUCCESS, ORDER_LISTALL_FAIL, ORDER_DELIVER_REQUEST, ORDER_DELIVER_FAIL, ORDER_DELIVER_SUCCESS, ORDER_DELIVER_RESET } from '../constants/orderConstants'\r\n\r\nexport const orderCreateReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n        case ORDER_CREATE_REQUEST:\r\n            return {\r\n                loading: true\r\n            }\r\n        case ORDER_CREATE_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                success: true,\r\n                order: action.payload\r\n            }\r\n        case ORDER_CREATE_FAIL:\r\n            return {\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const orderDetailsReducer = (state = { loading: true, orderItems: [], shippingAddress: {} }, action) => {\r\n    switch (action.type) {\r\n        case ORDER_DETAILS_REQUEST:\r\n            return {\r\n                loading: true\r\n            }\r\n        case ORDER_DETAILS_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                order: action.payload,\r\n            }\r\n        case ORDER_DETAILS_FAIL:\r\n            return {\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const orderPayReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n        case ORDER_PAY_REQUEST:\r\n            return {\r\n                loading: true\r\n            }\r\n        case ORDER_PAY_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                success: true,\r\n            }\r\n        case ORDER_PAY_FAIL:\r\n            return {\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n        case ORDER_PAY_RESET:\r\n            return {}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const orderListMyReducer = (state = { orders: [] }, action) => {\r\n    switch (action.type) {\r\n        case ORDER_LIST_MY_REQUEST:\r\n            return {\r\n                loading: true\r\n            }\r\n        case ORDER_LIST_MY_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                orders: action.payload,\r\n            }\r\n        case ORDER_LIST_MY_FAIL:\r\n            return {\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n        case ORDER_LIST_MY_RESET:\r\n            return {\r\n                orders: []\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const orderListALLReducer = (state = { orders: [] }, action) => {\r\n    switch (action.type) {\r\n        case ORDER_LISTALL_REQUEST:\r\n            return {\r\n                loading: true\r\n            }\r\n        case ORDER_LISTALL_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                orders: action.payload,\r\n            }\r\n        case ORDER_LISTALL_FAIL:\r\n            return {\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const orderDeliverReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n        case ORDER_DELIVER_REQUEST:\r\n            return {\r\n                loading: true\r\n            }\r\n        case ORDER_DELIVER_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                success: true,\r\n            }\r\n        case ORDER_DELIVER_FAIL:\r\n            return {\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n        case ORDER_DELIVER_RESET:\r\n            return {}\r\n        default:\r\n            return state\r\n    }\r\n}","import { SET_LIST, SET_TOAST } from '../constants/toastConstants'\r\n\r\nexport const setToast = (message, type='success') => dispatch => {\r\n    \r\n    const toast = {\r\n        type,\r\n        message\r\n    }\r\n\r\n    dispatch({\r\n        type: SET_TOAST,\r\n        payload: toast\r\n    })\r\n}\r\n\r\nexport const deleteToast = id => dispatch => {\r\n\r\n    dispatch({\r\n        type: SET_LIST,\r\n        payload: id\r\n    })\r\n}","import axios from 'axios'\r\nimport { ORDER_LIST_MY_RESET } from '../constants/orderConstants'\r\nimport { SET_TOAST } from '../constants/toastConstants'\r\nimport { USER_LOGIN_FAIL, USER_LOGIN_REQUEST, USER_LOGIN_SUCCESS, USER_CLEAR_LOGIN_FAIL, USER_LOGOUT, USER_REGISTER_REQUEST, USER_REGISTER_SUCCESS, USER_DETAILS_REQUEST, USER_DELETE_SUCCESS, USER_DETAILS_FAIL, USER_DETAILS_SUCCESS, USER_UPDATE_PROFILE_REQUEST, USER_UPDATE_PROFILE_SUCCESS, USER_UPDATE_PROFILE_FAIL, USER_UPDATE_REQUEST, USER_DETAILS_RESET, USER_LIST_SUCCESS, USER_LIST_REQUEST, USER_LIST_RESET, USER_DELETE_REQUEST, USER_DELETE_FAIL, USER_UPDATE_SUCCESS } from \"../constants/userConstants\"\r\n\r\nexport const login = (email, password) => async (dispatch) => {\r\n    try {\r\n        dispatch({\r\n            type: USER_LOGIN_REQUEST\r\n        })\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }\r\n\r\n        const { data } = await axios.post('/api/user/login', { email, password }, config)\r\n\r\n        dispatch({\r\n            type: USER_LOGIN_SUCCESS,\r\n            payload: data\r\n        })\r\n\r\n        localStorage.setItem('userInfo', JSON.stringify(data))\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: USER_LOGIN_FAIL,\r\n            payload: error.response && error.response.data.message ? error.response.data.message : error.message\r\n        })\r\n        \r\n        dispatch({\r\n            type: SET_TOAST,\r\n            payload: {\r\n                message: `Login Failed: ${error.response && error.response.data.message ? error.response.data.message : error.message}`,\r\n                type: \"error\"\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport const logout = () => dispatch => {\r\n    \r\n    localStorage.removeItem('userInfo')\r\n    localStorage.removeItem('cartItems')\r\n    localStorage.removeItem('shippingAddress')\r\n    localStorage.removeItem('paymentMethod')\r\n    dispatch({ type: USER_LOGOUT })\r\n    dispatch({ type: USER_DETAILS_RESET })\r\n    dispatch({ type: ORDER_LIST_MY_RESET })\r\n    dispatch({ type: USER_LIST_RESET })\r\n    document.location.href = '/login'\r\n\r\n}\r\n\r\nexport const register = (name, email, password) => async (dispatch) => {\r\n    try {\r\n        dispatch({\r\n            type: USER_REGISTER_REQUEST\r\n        })\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }\r\n\r\n        const { data } = await axios.post('/api/user', { name, email, password }, config)\r\n\r\n        dispatch({\r\n            type: USER_REGISTER_SUCCESS,\r\n            payload: data\r\n        })\r\n\r\n        dispatch({\r\n            type: USER_LOGIN_SUCCESS,\r\n            payload: data\r\n        })\r\n\r\n        localStorage.setItem('userInfo', JSON.stringify(data))\r\n\r\n    } catch (error) {\r\n\r\n        dispatch({\r\n            type: USER_LOGIN_FAIL,\r\n            payload: error.response && error.response.data.msg ? error.response.data.msg : error.message\r\n        })\r\n     \r\n    }\r\n}\r\n\r\nexport const getUserDetails = (id) => async (dispatch, getState) => {\r\n    try {\r\n        dispatch({\r\n            type: USER_DETAILS_REQUEST\r\n        })\r\n\r\n        const { userLogin: { userInfo } } = getState()\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                Authorization: `Bearer ${userInfo.token}`\r\n            }\r\n        }\r\n\r\n        const { data } = await axios(`/api/user/${id}`, config)\r\n\r\n        dispatch({\r\n            type: USER_DETAILS_SUCCESS,\r\n            payload: data\r\n        })\r\n\r\n    } catch (error) {\r\n\r\n        dispatch({\r\n            type: USER_DETAILS_FAIL,\r\n            payload: error.response && error.response.data.msg ? error.response.data.msg : error.message\r\n        })\r\n\r\n        dispatch({\r\n            type: SET_TOAST,\r\n            payload: {\r\n                message: error.response && error.response.data.msg ? error.response.data.msg : error.message,\r\n                type: \"error\"\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport const updateUserProfile = (user) => async (dispatch, getState) => {\r\n    try {\r\n        dispatch({\r\n            type: USER_UPDATE_PROFILE_REQUEST\r\n        })\r\n\r\n        const { userLogin: { userInfo } } = getState()\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                Authorization: `Bearer ${userInfo.token}`\r\n            }\r\n        }\r\n\r\n        const { data } = await axios.put(`/api/user/profile`, user, config)\r\n\r\n        dispatch({\r\n            type: USER_LOGIN_SUCCESS,\r\n            payload: data\r\n        })\r\n\r\n        dispatch({\r\n            type: USER_UPDATE_PROFILE_SUCCESS,\r\n            payload: data\r\n        })\r\n\r\n        localStorage.setItem('userInfo', JSON.stringify(data))\r\n\r\n        dispatch({\r\n            type: SET_TOAST,\r\n            payload: {\r\n                message: \"Profile Updated\",\r\n                type: \"success\"\r\n            }\r\n        })\r\n\r\n    } catch (error) {\r\n\r\n        dispatch({\r\n            type: USER_UPDATE_PROFILE_FAIL,\r\n            payload: error.response && error.response.data.msg ? error.response.data.msg : error.message\r\n        })\r\n    \r\n    }\r\n}\r\n\r\nexport const clearLoginFail = () => (dispatch) => {\r\n    dispatch({\r\n        type: USER_CLEAR_LOGIN_FAIL\r\n    })\r\n}\r\n\r\nexport const listUsers = () => async (dispatch, getState) => {\r\n    try {\r\n        dispatch({\r\n            type: USER_LIST_REQUEST\r\n        })\r\n\r\n        const { userLogin: { userInfo } } = getState()\r\n\r\n        const config = {\r\n            headers: {\r\n                Authorization: `Bearer ${userInfo.token}`\r\n            }\r\n        }\r\n\r\n        const { data } = await axios(`/api/user`, config)\r\n\r\n        dispatch({\r\n            type: USER_LIST_SUCCESS,\r\n            payload: data\r\n        })\r\n\r\n    } catch (error) {\r\n\r\n        dispatch({\r\n            type: USER_UPDATE_PROFILE_FAIL,\r\n            payload: error.response && error.response.data.msg ? error.response.data.msg : error.message\r\n        })\r\n        \r\n        \r\n        dispatch({\r\n            type: SET_TOAST,\r\n            payload: {\r\n                message: \"Unable to Retrieve List of Users\",\r\n                type: \"error\"\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport const delelteUser = (user) => async (dispatch, getState) => {\r\n    try {\r\n        dispatch({\r\n            type: USER_DELETE_REQUEST\r\n        })\r\n\r\n        const { userLogin: { userInfo } } = getState()\r\n\r\n        const config = {\r\n            headers: {\r\n                Authorization: `Bearer ${userInfo.token}`\r\n            }\r\n        }\r\n\r\n        await axios.delete(`/api/user/${user}`, config)\r\n\r\n        dispatch({\r\n            type: USER_DELETE_SUCCESS\r\n        })\r\n\r\n    } catch (error) {\r\n\r\n        dispatch({\r\n            type: USER_DELETE_FAIL,\r\n            payload: error.response && error.response.data.msg ? error.response.data.msg : error.message\r\n        })\r\n        \r\n        \r\n        dispatch({\r\n            type: SET_TOAST,\r\n            payload: {\r\n                message: \"Unable to Delete User\",\r\n                type: \"error\"\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport const updateUser = (user) => async (dispatch, getState) => {\r\n    try {\r\n        dispatch({\r\n            type: USER_UPDATE_REQUEST\r\n        })\r\n\r\n        const { userLogin: { userInfo } } = getState()\r\n\r\n        const config = {\r\n            'Content-type': 'application/json',\r\n            headers: {\r\n                Authorization: `Bearer ${userInfo.token}`\r\n            }\r\n        }\r\n\r\n        const { data} = await axios.put(`/api/user/${user._id}`, user, config)\r\n\r\n        dispatch({ type: USER_UPDATE_SUCCESS })\r\n\r\n        dispatch({ type: USER_DETAILS_SUCCESS, payload: data})\r\n\r\n    } catch (error) {\r\n\r\n        dispatch({\r\n            type: USER_DELETE_FAIL,\r\n            payload: error.response && error.response.data.msg ? error.response.data.msg : error.message\r\n        })\r\n        \r\n        \r\n        dispatch({\r\n            type: SET_TOAST,\r\n            payload: {\r\n                message: \"Unable to Delete User\",\r\n                type: \"error\"\r\n            }\r\n        })\r\n    }\r\n}","import { useState } from 'react'\r\n\r\nconst SearchBox = ({ history }) => {\r\n\r\n    const [keyword, setKeyword] = useState(\"\")\r\n\r\n    const submitHandler = e => {\r\n        e.preventDefault()\r\n        if(keyword.trim()) {\r\n            history.push(`/search/${keyword}`)\r\n\r\n        } else {\r\n            history.push('/')\r\n        }\r\n    }\r\n\r\n    return (\r\n        \r\n        <form  className='m-1' onSubmit={submitHandler}>\r\n           <input \r\n             type=\"text\"\r\n             style={{borderRadius: '5px', height: '40px', fontSize: '18px'}}\r\n             onChange={e=>setKeyword(e.target.value)}\r\n             value={keyword}\r\n             placeholder='Search drones...'\r\n             id='searchbar'\r\n            /> \r\n            <label htmlFor=\"searchbar\">\r\n                <i className='fas fa-search'></i>\r\n            </label>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default SearchBox\r\n","import { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { setToast } from '../actions/toastActions'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { logout } from '../actions/userActions'\r\nimport SearchBox from './SearchBox'\r\n\r\nconst Header = ({ match }) => {\r\n\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n\r\n    const userLogin = useSelector(state => state.userLogin)\r\n    const { userInfo } = userLogin\r\n\r\n    const [ toggleUserMenu, setToggleUserMenu ] = useState(false)\r\n\r\n    const handleLogout = () => {\r\n        setToggleUserMenu(false)\r\n        dispatch(logout())\r\n    }\r\n\r\n    return (\r\n        <header className=\"navbar\">\r\n            <div className=\"container flex\">\r\n\r\n                <Link to='/'>\r\n                    <h1 className=\"logo\">UA-Systems-4U</h1>\r\n                </Link>\r\n                <div style={{ flex: '2' }}>\r\n                    <SearchBox history={history} />\r\n                </div>\r\n                <nav>\r\n                    <ul>\r\n                        <li><Link to=\"/\"><i className=\"fas fa-home\"></i> Home</Link></li>\r\n                        <li><Link to=\"/cart\"><i className=\"fas fa-shopping-cart\"></i> Cart</Link></li>\r\n                        {userInfo ? (\r\n                            <div className=\"userContainer\">\r\n                                <li id=\"user-link\" onClick={()=>setToggleUserMenu(!toggleUserMenu)}>\r\n                                    <Link to=\"#\"><i className=\"far fa-user-circle\"></i> {userInfo.name}</Link>\r\n                                </li>\r\n                                <div \r\n                                  className={`userMenu ${toggleUserMenu ? 'show-user-menu' : ''}`}\r\n                                  onMouseLeave={()=>setToggleUserMenu(false)}\r\n                                >\r\n                                    <li onClick={handleLogout}><i className=\"fas fa-sign-out-alt\" ></i>Logout</li>\r\n                                    <li onClick={() => history.push('/profile')}><i className=\"far fa-user\"></i>Profile</li>\r\n                                    <li onClick={() => history.push('/orderhistory')}><i className=\"fas fa-clipboard-list\"></i>My Orders</li>\r\n                                    {userInfo.isAdmin && <li onClick={() => history.push('/admin/userlist')}><i className=\"fas fa-users\"></i>Users</li>}\r\n                                    {userInfo.isAdmin && <li onClick={() => history.push('/admin/productlist')}><i className=\"fas fa-list\"></i>Products</li>}\r\n                                    {userInfo.isAdmin && <li onClick={() => history.push('/admin/orderlist')}><i className=\"fas fa-clipboard-list\"></i>All Orders</li>}\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                            :\r\n                            (<li><Link to=\"/login\"><i className=\"fas fa-sign-in-alt\"></i> Sign In</Link></li>)\r\n                        }\r\n\r\n                    </ul>\r\n                </nav>\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header","import { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux'\nimport { deleteToast } from '../../actions/toastActions'\nimport './toast.css';\n\nconst Toast = ({ position = 'top-right', autoDelete = true, dismissTime = 4000 }) => {\n\n    const dispatch = useDispatch()\n\n    const { toastList } = useSelector(state => state.toastList)\n   \n    useEffect(() => {\n        const interval = setInterval(() => {\n            if (autoDelete && toastList.length) {\n                dispatch(deleteToast(toastList[0].id));\n            }\n        }, dismissTime);\n\n        return () => {\n            clearInterval(interval);\n        }\n\n        // eslint-disable-next-line\n    }, [toastList, autoDelete, dismissTime]);\n\n\n    return (\n        <>\n            <div className={`notification-container ${position}`}>\n                {\n                    toastList.map((toast, i) =>\n                        <div\n                            key={i}\n                            className={`notification toast ${position}`}\n                            style={{ backgroundColor: toast.backgroundColor }}\n                        >\n                            <button onClick={() => dispatch(deleteToast(toast.id))}>\n                                X\n                            </button>\n                            <div className=\"notification-image\">\n                                <img src={toast.icon} alt=\"\" />\n                            </div>\n                            <div>\n                                <p className=\"notification-title\">\n                                    {toast.description}\n                                </p>\n                                <p className=\"notification-message\">\n                                    {/* {toast.title} */}\n                                </p>\n                            </div>\n                        </div>\n                    )\n                }\n            </div>\n        </>\n    );\n}\n\n\nexport default Toast;","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <footer className=\"footer bg-dark grid\">\r\n\r\n            <div className='flex column'>\r\n                <Link to='/'><h1>UA-Systems-4U</h1></Link>\r\n                        Copyright &copy; 2021\r\n                </div>\r\n            <div className=\"social-links\">\r\n                <Link to=\"#\"><i className=\"fab fa-github fa-2x\"></i></Link>\r\n                <Link to=\"#\"><i className=\"fab fa-facebook fa-2x\"></i></Link>\r\n                <Link to=\"#\"><i className=\"fab fa-instagram fa-2x\"></i></Link>\r\n                <Link to=\"#\"><i className=\"fab fa-twitter fa-2x\"></i></Link>\r\n            </div>\r\n\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer\r\n","import Helmet from 'react-helmet'\r\n\r\nconst Meta = ({title, description, keyword, ico}) => {\r\n    return (\r\n        <Helmet>\r\n            <title>{title}</title>\r\n            <meta name='description' content={description}/>\r\n            <meta name='keyword' content={keyword}/>\r\n            <link rel=\"icon\" type='image/png' href={ico}/>\r\n        </Helmet>\r\n    )\r\n}\r\n\r\nMeta.defaultProps = {\r\n    title: 'Welcome To UA-Systems-4U',\r\n    content: 'The best selection of professional grade best drones in the industry',\r\n    keywords: 'drones, aerial, photography, professional',\r\n    ico: \"%PUBLIC_URL%/drone.ico\"\r\n}\r\n\r\nexport default Meta","import axios from 'axios'\r\nimport { SET_TOAST } from '../constants/toastConstants'\r\nimport { PRODUCT_LIST_REQUEST, PRODUCT_LIST_FAIL, PRODUCT_LIST_SUCCESS, PRODUCT_DETAILS_REQUEST, PRODUCT_DETAILS_SUCCESS, PRODUCT_DETAILS_FAIL, PRODUCT_DELETE_REQUEST, PRODUCT_DELETE_SUCCESS, PRODUCT_DELETE_FAIL, PRODUCT_CREATE_REQUEST, PRODUCT_CREATE_FAIL, PRODUCT_CREATE_SUCCESS, PRODUCT_UPDATE_REQUEST, PRODUCT_UPDATE_FAIL, PRODUCT_UPDATE_SUCCESS, PRODUCT_CREATE_REVIEW_REQUEST, PRODUCT_CREATE_REVIEW_SUCCESS, PRODUCT_TOP_REQUEST, PRODUCT_TOP_SUCCESS, PRODUCT_TOP_FAIL } from '../constants/productConstants'\r\n\r\n\r\nexport const listProducts = (keyword = '', pageNumber = '') => async (dispatch) => {\r\n    try {\r\n        dispatch({\r\n            type: PRODUCT_LIST_REQUEST\r\n        })\r\n\r\n        const { data } = await axios(`/api/products?keyword=${keyword}&pageNumber=${pageNumber}`)\r\n\r\n        dispatch({\r\n            type: PRODUCT_LIST_SUCCESS,\r\n            payload: data\r\n        })\r\n    } catch (error) {\r\n\r\n        dispatch({\r\n            type: PRODUCT_LIST_FAIL,\r\n            payload: error.response && error.response.data.message ? error.response.data.message : error.message\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport const listProductsDetails = (id) => async (dispatch) => {\r\n    try {\r\n        dispatch({\r\n            type: PRODUCT_DETAILS_REQUEST,\r\n        })\r\n\r\n        const { data } = await axios(`/api/products/${id}`)\r\n\r\n        dispatch({\r\n            type: PRODUCT_DETAILS_SUCCESS,\r\n            payload: data\r\n        })\r\n    } catch (error) {\r\n\r\n        dispatch({\r\n            type: PRODUCT_DETAILS_FAIL,\r\n            payload: error.response && error.response.data.message ? error.response.data.message : error.message\r\n        })\r\n    }\r\n}\r\n\r\nexport const deleteProduct = id => async (dispatch, getState) => {\r\n    try {\r\n        dispatch({\r\n            type: PRODUCT_DELETE_REQUEST\r\n        })\r\n\r\n        const { userLogin: { userInfo } } = getState()\r\n\r\n        const config = {\r\n            headers: {\r\n                Authorization: `Bearer ${userInfo.token}`\r\n            }\r\n        }\r\n\r\n        await axios.delete(`/api/products/${id}`, config)\r\n\r\n        dispatch({\r\n            type: PRODUCT_DELETE_SUCCESS,\r\n        })\r\n\r\n\r\n    } catch (error) {\r\n\r\n        dispatch({\r\n            type: PRODUCT_DELETE_FAIL,\r\n            payload: error.response\r\n                && error.response.data.msg\r\n                ? \"Order failed, \" + error.response.data.msg\r\n                : \"Order failed, \" + error.message,\r\n        })\r\n\r\n        dispatch({\r\n            type: SET_TOAST,\r\n            payload:\r\n            {\r\n                message: error.response\r\n                    && error.response.data.msg\r\n                    ? \"Order failed, \" + error.response.data.msg\r\n                    : \"Order failed, \" + error.message,\r\n                type: \"error\"\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport const createProduct = () => async (dispatch, getState) => {\r\n    try {\r\n        dispatch({\r\n            type: PRODUCT_CREATE_REQUEST\r\n        })\r\n\r\n        const { userLogin: { userInfo } } = getState()\r\n\r\n        const config = {\r\n            headers: {\r\n                Authorization: `Bearer ${userInfo.token}`\r\n            }\r\n        }\r\n\r\n        await axios.post(`/api/products`, {}, config)  //must pass in a empty object for post request\r\n\r\n\r\n        dispatch({\r\n            type: PRODUCT_CREATE_SUCCESS,\r\n        })\r\n\r\n    } catch (error) {\r\n\r\n        dispatch({\r\n            type: PRODUCT_CREATE_FAIL,\r\n            payload: error.response\r\n                && error.response.data.msg\r\n                ? \"Order failed, \" + error.response.data.msg\r\n                : \"Order failed, \" + error.message,\r\n        })\r\n\r\n        dispatch({\r\n            type: SET_TOAST,\r\n            payload:\r\n            {\r\n                message: error.response\r\n                    && error.response.data.msg\r\n                    ? \"Order failed, \" + error.response.data.msg\r\n                    : \"Order failed, \" + error.message,\r\n                type: \"error\"\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\nexport const updateProduct = product => async (dispatch, getState) => {\r\n\r\n    try {\r\n\r\n        dispatch({\r\n            type: PRODUCT_UPDATE_REQUEST\r\n        })\r\n\r\n        const { userLogin: { userInfo } } = getState()\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                Authorization: `Bearer ${userInfo.token}`\r\n            }\r\n        }\r\n\r\n        await axios.put(`/api/products/${product._id}`, product, config) \r\n        dispatch({\r\n            type: PRODUCT_UPDATE_SUCCESS,\r\n        })\r\n    } catch (error) {\r\n\r\n        dispatch({\r\n            type: PRODUCT_UPDATE_FAIL\r\n        })\r\n\r\n        dispatch({\r\n            type: SET_TOAST,\r\n            payload:\r\n            {\r\n                message: error.response\r\n                    && error.response.data.msg\r\n                    ? \"Product update failed, \" + error.response.data.msg\r\n                    : \"Product update failed, \" + error.message,\r\n                type: \"error\"\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n}\r\n\r\nexport const createProductReview = ( productId, review ) => async (dispatch, getState) => {\r\n\r\n    try {\r\n\r\n        dispatch({\r\n            type: PRODUCT_CREATE_REVIEW_REQUEST\r\n        })\r\n\r\n        const { userLogin: { userInfo } } = getState()\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                Authorization: `Bearer ${userInfo.token}`\r\n            }\r\n        }\r\n\r\n        await axios.post(`/api/products/${productId}/reviews`, review, config) \r\n        dispatch({\r\n            type: PRODUCT_CREATE_REVIEW_SUCCESS,\r\n        })\r\n    } catch (error) {\r\n\r\n        dispatch({\r\n            type: PRODUCT_UPDATE_FAIL\r\n        })\r\n\r\n        dispatch({\r\n            type: SET_TOAST,\r\n            payload:\r\n            {\r\n                message: error.response\r\n                    && error.response.data.msg\r\n                    ? \"Product update failed, \" + error.response.data.msg\r\n                    : \"Product update failed, \" + error.message,\r\n                type: \"error\"\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n}\r\n\r\nexport const listTopProducts = () => async (dispatch) => {\r\n    \r\n    try {\r\n        dispatch({\r\n            type: PRODUCT_TOP_REQUEST\r\n        })\r\n\r\n        const { data } = await axios(`/api/products/top`)\r\n\r\n        dispatch({\r\n            type: PRODUCT_TOP_SUCCESS,\r\n            payload: data\r\n        })\r\n    } catch (error) {\r\n\r\n        dispatch({\r\n            type: PRODUCT_TOP_FAIL,\r\n            payload: error.response && error.response.data.message ? error.response.data.message : error.message\r\n        })\r\n    }\r\n}","//Component uses font awesome custom icons\r\n//  <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css\">\r\n\r\nconst Rating = ({ rating, numOfStars, color, text }) => {\r\n    \r\n    return (\r\n        <div className='rating w-100'>\r\n            {[...Array(numOfStars)].map((star, i) => (\r\n                <span key={i}>\r\n                    <i style={{ color }} className={rating >= i + 1 ? 'fas fa-star' : rating >= i + 1 - .5 ? 'fas fa-star-half-alt' : 'far fa-star'}></i>\r\n                </span>\r\n            ))}\r\n            {text && text}\r\n        </div>\r\n    )\r\n}\r\n\r\nRating.defaultProps = {\r\n    color: '#f8e825',\r\n    numOfStars: 5,\r\n}\r\n\r\nexport default Rating\r\n","import { useState } from 'react'\r\n\r\nconst ImageLoader = ({ product, backupSrc=\"/images/comingSoon.jpg\" }) => {\r\n\r\n    const [imageLoaded, setImageLoaded] = useState(false)\r\n    const [loadingError, setLoadingError] = useState(false)\r\n\r\n    return (\r\n        <div className='img-loader'>\r\n                <img\r\n                    className='w-100'\r\n                    src={loadingError ? backupSrc : product.image}\r\n                    onLoad={()=>setImageLoaded(true)}\r\n                    onError={() =>setLoadingError(true)}\r\n                    alt={product.name}\r\n                />\r\n\r\n                {\r\n                  !imageLoaded && <img \r\n                                    className='img-loading'\r\n                                    src='/images/loadingSM.gif'\r\n                                    />\r\n                }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ImageLoader\r\n","import Rating from './Rating'\r\nimport ImageLoader from './ImageLoader'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst Product = ({ product }) => {\r\n\r\n    return (\r\n        <div className='card flex column'>\r\n            <Link to={`/product/${product._id}`}>\r\n                    <ImageLoader product={product} />\r\n                    <h3>\r\n                        {product.name}\r\n                    </h3>\r\n                    <div >\r\n                        <Rating\r\n                            rating={product.rating}\r\n                        />\r\n                        <span>{product.rating} from {product.numReviews} reviews</span>\r\n                    </div>\r\n                    <h3 >${product.price}</h3>\r\n                    {/* <p>{product.description}</p> */}\r\n            </Link>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Product\r\n","\r\nconst Loader = () => {\r\n    return (\r\n        <div style={{position:'absolute', top:\"50%\", left:\"50%\", transform: \"translate(-50%, -50%)\"}}>\r\n            <img src=\"/images/loadingSM.gif\" alt=\"loader\"/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loader\r\n","import { Link } from 'react-router-dom'\r\n\r\nconst Paginate = ({ pages, page, isAdmin = false, keyword = '' }) => {\r\n\r\n    return (\r\n\r\n        <div>\r\n            {pages > 1 &&\r\n                [...Array(pages).keys()].map((p, i) => (\r\n                    <span\r\n                        key={i}\r\n                    >\r\n                        <Link\r\n                            className={`btn border ${i + 1 != page ? 'btn-light' : ''}`}\r\n                            to={!isAdmin ?\r\n                                keyword ?\r\n                                    `/search/${keyword}/page/${p + 1}`\r\n                                    : `/page/${p + 1}`\r\n\r\n                                :\r\n                                `/admin/productlist/${p + 1}`\r\n                            }\r\n                        >\r\n                            {p + 1}\r\n                        </Link>\r\n                    </span>\r\n                ))}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Paginate\r\n","import { useState, useEffect, useRef } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst Carousel = ({ topProducts: products }) => {\r\n\r\n  const [pause, setPause] = useState({ index: 0, paused: false })\r\n\r\n  const id = useRef()\r\n\r\n  const handleLeftClick = () => {\r\n    pause.index === 0 ?\r\n      setPause({ index: products.length - 1, paused: true })\r\n      :\r\n      setPause({ index: pause.index - 1, paused: true })\r\n  }\r\n\r\n  const handleRightClick = () => {\r\n    pause.index === products.length - 1 ?\r\n      setPause({ index: 0, paused: true })\r\n      :\r\n      setPause({ index: pause.index + 1, paused: true })\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    pause.paused ?\r\n      clearInterval(id.current)\r\n      :\r\n      id.current = setInterval(() => {\r\n        if (pause.index === products.length - 1) {\r\n          setPause({ index: 0 })\r\n\r\n        } else setPause({ index: pause.index + 1 })\r\n      }, 3000)\r\n\r\n    return () => clearInterval(id.current)\r\n\r\n  }, [pause])\r\n\r\n\r\n  console.log(products)\r\n  return (\r\n\r\n    <div className='carousel-container'>\r\n      {products[pause.index] &&\r\n        <div className=\"carousel-inner\" style={{ backgroundImage: `url(${products[pause.index].image})` }}>\r\n          <div className=\"left\">\r\n            {pause.paused && <i onClick={handleLeftClick} className=\"fas fa-angle-double-left fa-3x\"></i>}\r\n          </div>\r\n          <div onClick={() => setPause({ ...pause, paused: !pause.paused })} className=\"center\" >\r\n            <Link className='text-primary' to={`/product/${products[pause.index]._id}`}>\r\n              <h1>{products[pause.index].name} - <span>${products[pause.index].price}</span></h1>\r\n            </Link>\r\n\r\n            <div>\r\n              {products.map((p, i) => (i === pause.index ?\r\n                <span key={i}><i className=\"fas fa-circle\" /></span>\r\n                :\r\n                <span key={i}><i className=\"far fa-circle\" /></span>)\r\n              )\r\n              }\r\n            </div>\r\n\r\n          </div>\r\n          <div onClick={handleRightClick} className=\"right\">\r\n            {pause.paused && <i className=\"fas fa-angle-double-right fa-3x\"></i>}\r\n          </div>\r\n        </div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Carousel\r\n\r\n// When exactly does React clean up an effect? React performs the cleanup when the component unmounts. However, as we learned earlier, effects run for every render and not just once. This is why React also cleans up effects from the previous render before running the effects next time. We’ll discuss why this helps avoid bugs and how to opt out of this behavior in case it creates performance issues later below.\r\n","import { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport Meta from '../components/Meta'\r\nimport { listProducts } from '../actions/productActions'\r\nimport Product from '../components/Product'\r\nimport Loader from '../components/Loader'\r\nimport Paginate from '../components/Paginate'\r\nimport Carousel from '../components/Carousel'\r\n\r\nconst HomeScreen = ({ match }) => {\r\n\r\n  const keyword = match.params.keyword\r\n\r\n  const pageNumber = match.params.pageNumber || 1\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const productList = useSelector(state => state.productList)\r\n  const { loading, error, products, pages, page } = productList\r\n\r\n  useEffect(() => {\r\n    dispatch(listProducts(keyword, pageNumber))\r\n  }, [dispatch, keyword, pageNumber])\r\n  console.log(products)\r\n  return (\r\n    <>\r\n      <Meta />\r\n      { loading ? <Loader />\r\n        :\r\n        <div className=\"flex column\">\r\n          {(!keyword && page === '1') ?\r\n            <Carousel\r\n              topProducts={products.sort((a, b) => b.rating - a.rating).slice(0, 3)}\r\n              page={page}\r\n            />\r\n            :\r\n            <Link to='/' className='mr-auto'>\r\n              <button className=\"btn p-1\">Go Home</button>\r\n            </Link>\r\n          }\r\n          <div className=\"grid grid-3 my-2\">\r\n            {products.map(product => <Product key={product._id} product={product} />)}\r\n\r\n          </div>\r\n          <Paginate\r\n            pages={pages}\r\n            page={page}\r\n            keyword={keyword ? keyword : \"\"}\r\n          />\r\n        </div>\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default HomeScreen\r\n","//Component uses font awesome custom icons\r\n//  <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css\">\r\n\r\n\r\nconst SelectRating = ({ setRating, rating, numOfStars, color, text }) => {\r\n\r\n    return (\r\n        <div>\r\n            {[...Array(numOfStars)].map((star, i) => (\r\n                <span key={i}>\r\n                    <i\r\n                        onClick={() => setRating(i + 1)}\r\n                        style={{ color, cursor: 'pointer' }}\r\n                        className={rating >= i + 1 ? 'fas fa-star' : 'far fa-star'}\r\n                    >\r\n\r\n                    </i>\r\n                </span>\r\n            ))}\r\n            {text &&\r\n                <div>\r\n                    <small>{text}</small>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nSelectRating.defaultProps = {\r\n    color: '#f8e825',\r\n    numOfStars: 5,\r\n    rating: 0,\r\n    text: \"Select number of stars...\"\r\n}\r\n\r\nexport default SelectRating","import { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport Rating from '../components/Rating'\r\nimport SelectRating from '../components/SelectRating'\r\nimport ImageLoader from '../components/ImageLoader'\r\nimport Meta from '../components/Meta'\r\nimport { listProductsDetails, createProductReview } from '../actions/productActions'\r\nimport Loader from '../components/Loader'\r\nimport { setToast } from '../actions/toastActions'\r\n\r\nconst ProductScreen = ({ match, history }) => {\r\n    const [qty, setQty] = useState(1)\r\n    const [rating, setRating] = useState(0)\r\n    const [comment, setComment] = useState(\"\")\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const productDetails = useSelector(state => state.productDetails)\r\n    const { loading, error, product } = productDetails\r\n\r\n    const productReviewCreate = useSelector(state => state.productReviewCreate)\r\n    const { success: successProductReview, error: errorProductReview, loading: productReviewLoading } = productReviewCreate\r\n\r\n    const userLogin = useSelector(state => state.userLogin)\r\n    const { userInfo } = userLogin\r\n\r\n    useEffect(() => {\r\n        dispatch(listProductsDetails(match.params.id))\r\n    }, [dispatch, match, successProductReview])\r\n\r\n    const addToCartHandler = () => {\r\n        history.push(`/cart/${match.params.id}?qty=${qty}`)\r\n    }\r\n\r\n    const submitHandler = e => {\r\n        e.preventDefault()\r\n        if (rating === 0) {\r\n          return dispatch(setToast(\"Please select a star rating.\", \"warning\"))\r\n        }\r\n        dispatch(createProductReview(product._id, { rating, comment }))\r\n        setComment(\"\")\r\n        setRating(0)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Meta title={product.name} />\r\n            <Link className='btn my-1' to='/'>Go Back</Link>\r\n            { loading  ? <Loader /> :\r\n                <div className=\"grid\">\r\n                    <div className=\"image-container\">\r\n                        <ImageLoader product={product} />\r\n                    </div>\r\n                    <div>\r\n                        <div className=\"grid\">\r\n                            <div className=\"flex column\">\r\n                                <h2 className='py-1 underline w-100'>{product.name}</h2>\r\n                                <Rating rating={product.rating} text={`${product.numReviews} Reviews`} />\r\n                                <p>{product.description}</p>\r\n                            </div>\r\n                            <div className='border p-1 m0-auto'>\r\n                                <div className='flex column'>\r\n                                    <strong><p>Price: ${product.price}</p></strong>\r\n                                    <p className='py-1'>Status: {product.countInStock > 0 ? \"In Stock\" : \"Out of Stock\"} </p>\r\n                                    {product.countInStock > 0 && (\r\n                                        <div className='flex'>\r\n                                            <strong>Quantity: </strong>\r\n                                            <select\r\n                                                type='select'\r\n                                                value={qty}\r\n                                                onChange={e => setQty(e.target.value)}\r\n                                            >\r\n                                                {[...Array(product.countInStock).keys()].map(x => (\r\n                                                    <option key={x + 1} value={x + 1}>\r\n                                                        {x + 1}\r\n                                                    </option>\r\n                                                ))}\r\n                                            </select>\r\n                                        </div>\r\n                                    )}\r\n                                    <button\r\n                                        className=\"btn\"\r\n                                        style={{ marginTop: \"5px\" }}\r\n                                        disabled={product.countInStock === 0}\r\n                                        onClick={addToCartHandler}\r\n                                    >\r\n                                        Add to Cart\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <h2 className='m-1 text-center'>Reviews ({product.reviews.length})</h2>\r\n                        {product.reviews.length === 0 && <h3 className='text-center'>No Reviews</h3>}\r\n                        {product.reviews.slice(0, 5).map((review, i) => (\r\n                            <div key={i} className='my-3 underline'>\r\n                                <strong>{review.name}</strong> <small>{new Date(review.createdAt).toLocaleDateString('en-US')}</small>\r\n                                <Rating rating={review.rating} />\r\n                                <small>{review.comment ? review.comment : \"No Comments\"}</small>\r\n                            </div>\r\n                        ))}\r\n                        <div className='my-3 p-1 border' style={{ display: 'block', width: 'auto' }}>\r\n                            {userInfo &&\r\n                                <div >\r\n                                    <h2 className='my-1'>Rate this Product!</h2>\r\n                                    <form onSubmit={submitHandler}>\r\n                                        <textarea\r\n                                            placeholder='Enter your comment...'\r\n                                            value={comment}\r\n                                            className=\"w-100 my-1\"\r\n                                            onChange={e => setComment(e.target.value)}\r\n                                        />\r\n                                        <div>\r\n                                            <SelectRating setRating={setRating} rating={rating} />\r\n                                        </div>\r\n                                        <button className='btn my-1' type='submit'>Submit</button>\r\n                                    </form>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ProductScreen\r\n","import axios from 'axios'\r\nimport { CART_ADD_ITEM, CART_REMOVE_ITEM, CART_SAVE_PAYMENT_METHOD, CART_SAVE_SHIPPING_ADDRESS } from '../constants/cartConstants'\r\n\r\nexport const addToCart = (id, qty) => async (dispatch, getState) => {  //getState allows us to get our entire state tree\r\n    const { data } = await axios(`/api/products/${id}`)\r\n\r\n    dispatch({\r\n        type: CART_ADD_ITEM,\r\n        payload: {\r\n            product: data._id,\r\n            name: data.name,\r\n            image: data.image,\r\n            countInStock: data.countInStock,\r\n            price: data.price,\r\n            qty\r\n        }\r\n    })\r\n\r\n    localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems))\r\n}\r\n\r\nexport const removeFromCart = id => (dispatch, getState) => {\r\n    dispatch({\r\n        type: CART_REMOVE_ITEM,\r\n        payload: id\r\n    })\r\n\r\n    localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems))\r\n}\r\n\r\nexport const saveShippingAddress = data => (dispatch) => {\r\n    dispatch({\r\n        type: CART_SAVE_SHIPPING_ADDRESS,\r\n        payload: data\r\n    })\r\n\r\n    localStorage.setItem('shippingAddress', JSON.stringify(data))\r\n}\r\n\r\nexport const savePaymentMethod = data => (dispatch) => {\r\n\r\n    dispatch({\r\n        type: CART_SAVE_PAYMENT_METHOD,\r\n        payload: data\r\n    })\r\n\r\n    localStorage.setItem('paymentMethod', JSON.stringify(data))\r\n}","import { useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport ImageLoader from '../components/ImageLoader'\r\nimport { setToast } from '../actions/toastActions'\r\nimport { addToCart, removeFromCart } from '../actions/cartActions'\r\n\r\n\r\n\r\nconst CartScreen = ({ match, location, history }) => {   //location returns the query string so we can get the qty\r\n    const productId = match.params.id\r\n\r\n    const qty = location.search ? Number(location.search.split('=')[1]) : 1 //location.search gets us the query params (everything in query string after '?').\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const cart = useSelector(state => state.cart)\r\n    const { cartItems } = cart\r\n\r\n\r\n    useEffect(() => {\r\n        if (productId) {\r\n            dispatch(addToCart(productId, qty))\r\n        }\r\n    }, [dispatch, productId, qty])\r\n\r\n    const removeFromCartHandler = id => {\r\n        dispatch(removeFromCart(id))\r\n    }\r\n\r\n    const checkoutHandler = () => {\r\n        history.push('/login?redirect=shipping') // redirect will send to login if not login\r\n    }\r\n\r\n    return (\r\n        <div className='flex column'>\r\n\r\n            {cartItems.length === 0 ? (\r\n                <div className='flex column'>\r\n                    <h1>Your Cart is Empty</h1>\r\n                    <Link className='btn m-1' to='/'>Go Back</Link>\r\n                </div>\r\n\r\n            )\r\n                :\r\n                <>\r\n                    <h1 className='underline my-1'>Shopping Cart</h1>\r\n                    <div className=\"grid grid-offset\">\r\n                        <div className=\"flex column\">\r\n                            {cartItems.map(item => (\r\n                                <div\r\n                                    className='grid grid-5'\r\n                                    key={item.product}\r\n                                >\r\n                                    <div style={{ maxWidth: '200px' }}>\r\n                                        <ImageLoader product={item} />\r\n                                    </div>\r\n                                    <Link to={`/product/${item.product}`}>{item.name}</Link>\r\n                                    <strong>${item.price}</strong>\r\n                                    <select\r\n                                        type='select'\r\n                                        value={item.qty}\r\n                                        onChange={e => dispatch(addToCart(item.product, Number(e.target.value)))}\r\n                                    >\r\n                                        {[...Array(item.countInStock).keys()].map(x => (\r\n                                            <option key={x + 1} value={x + 1}>\r\n                                                {x + 1}\r\n                                            </option>\r\n                                        ))}\r\n                                    </select>\r\n                                    <i\r\n                                        onClick={() => removeFromCartHandler(item.product)}\r\n                                        className=\"fas fa-trash pointer\" />\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                        <div className='flex column'>\r\n                            <div className=\"flex column border p-2 my-2\">\r\n                                <h2 className='underline'>Subtotal ({cartItems.reduce((acc, item) => acc + item.qty, 0)} items)</h2>\r\n                                ${cartItems.reduce((acc, item) => acc + item.qty * item.price, 0).toFixed(2)}\r\n                                <button onClick={checkoutHandler} className=\"btn\">Checkout</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CartScreen\r\n","import { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { setToast } from '../actions/toastActions'\r\nimport Loader from '../components/Loader'\r\nimport { login } from '../actions/userActions'\r\n\r\nconst Loginscreen = ({ location, history }) => {\r\n\r\n    const [email, setEmail] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const userLogin = useSelector(state => state.userLogin)\r\n    const { loading, userInfo } = userLogin\r\n\r\n    const redirect = location.search ? location.search.split('=')[1] : '/'\r\n\r\n    const submitHandler = e => {\r\n        e.preventDefault()\r\n        dispatch(login(email, password))\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        if (userInfo) {\r\n            history.push(redirect)\r\n        }\r\n    }, [history, userInfo, redirect])\r\n\r\n    return (\r\n        <div className='flex column'>\r\n            {/* { error && errorHandler()} */}\r\n\r\n            {loading && <Loader />}\r\n\r\n            <h1 className='my-2'>Sign In</h1>\r\n            <form onSubmit={submitHandler}>\r\n                <input\r\n                    type=\"email\"\r\n                    required={true}\r\n                    className='input my-1'\r\n                    placeholder='Enter Email'\r\n                    value={email}\r\n                    onChange={e => setEmail(e.target.value)}\r\n                />\r\n                <input\r\n                    type=\"password\"\r\n                    required={true}\r\n                    className='input my-1'\r\n                    placeholder='Enter Password'\r\n                    value={password}\r\n                    onChange={e => setPassword(e.target.value)}\r\n                />\r\n                <button className='btn' type='submit'>Submit</button>\r\n            </form>\r\n\r\n            <div className='my-2'>\r\n                New Customer? <Link to={redirect ? `/register?redirect=${redirect}` : '/logon'}>Register</Link>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loginscreen\r\n","import { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { setToast } from '../actions/toastActions'\r\nimport Loader from '../components/Loader'\r\nimport { register } from '../actions/userActions'\r\n\r\nconst RegisterScreen = ({ location, history }) => {\r\n\r\n    const [email, setEmail] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const [confirmPassword, setConfirmPassword] = useState(\"\")\r\n    const [name, setName] = useState(\"\")\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const userLogin = useSelector(state => state.userLogin)\r\n    const { loading, error, userInfo } = userLogin\r\n\r\n    const redirect = location.search ? location.search.split('=')[1] : '/'\r\n\r\n    const submitHandler = e => {\r\n        e.preventDefault()\r\n        if (password !== confirmPassword) {\r\n            dispatch(setToast(\"Passwords do not match\", \"error\"))\r\n        }\r\n        else { dispatch(register(name, email, password)) }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (userInfo) {\r\n            history.push(redirect)\r\n        }\r\n    }, [history, userInfo, redirect])\r\n\r\n    return (\r\n        <div className='flex column'>\r\n            {/* { error && errorHandler()} */}\r\n            { error && dispatch(setToast(error, 'error'))}\r\n            {loading && <Loader />}\r\n\r\n            <h1 className='my-2'>Register</h1>\r\n            <form onSubmit={submitHandler}>\r\n                <input\r\n                    type=\"email\"\r\n                    required={true}\r\n                    className='input my-1'\r\n                    placeholder='Enter Email'\r\n                    value={email}\r\n                    onChange={e => setEmail(e.target.value)}\r\n                />\r\n                <input\r\n                    type=\"text\"\r\n                    required={true}\r\n                    className='input my-1'\r\n                    placeholder='Enter Name'\r\n                    value={name}\r\n                    onChange={e => setName(e.target.value)}\r\n                />\r\n                <input\r\n                    type=\"password\"\r\n                    required={true}\r\n                    className='input my-1'\r\n                    placeholder='Enter Password'\r\n                    value={password}\r\n                    onChange={e => setPassword(e.target.value)}\r\n                />\r\n                <input\r\n                    type=\"password\"\r\n                    required={true}\r\n                    className='input my-1'\r\n                    placeholder='Confirm Password'\r\n                    value={confirmPassword}\r\n                    onChange={e => setConfirmPassword(e.target.value)}\r\n                />\r\n                <button className='btn' type='submit'>Submit</button>\r\n            </form>\r\n\r\n            <div className='my-2'>\r\n                Already Registered? <Link to={redirect ? `/register?redirect=${redirect}` : '/logon'}>Signin</Link>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RegisterScreen\r\n","import { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { setToast } from '../actions/toastActions'\r\nimport Loader from '../components/Loader'\r\nimport { getUserDetails, updateUserProfile } from '../actions/userActions'\r\nimport { USER_UPDATE_PROFILE_RESET } from '../constants/userConstants'\r\n\r\nconst ProfileScreen = ({ location, history }) => {\r\n\r\n    const [email, setEmail] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const [confirmPassword, setConfirmPassword] = useState(\"\")\r\n    const [name, setName] = useState(\"\")\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const userDetails = useSelector(state => state.userDetails)\r\n    const { loading, error, user } = userDetails\r\n\r\n    const userLogin = useSelector(state => state.userLogin)\r\n    const { userInfo } = userLogin\r\n\r\n    const userUpdateProfile = useSelector(state => state.userUpdateProfile)\r\n    const { success } = userUpdateProfile\r\n\r\n    \r\n\r\n\r\n    const submitHandler = e => {\r\n        e.preventDefault()\r\n        if (password !== confirmPassword) {\r\n            dispatch(setToast(\"Passwords do not match\", \"error\"))\r\n        }\r\n        else {\r\n            dispatch(updateUserProfile({ id: user._id, name, email, password }))\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!userInfo) {\r\n            history.push('/login')\r\n        } else {\r\n            if (!user || !user.name || success) {\r\n                dispatch({ type: USER_UPDATE_PROFILE_RESET })\r\n                dispatch(getUserDetails('profile'))\r\n            } else {\r\n                setName(user.name)\r\n                setEmail(user.email)\r\n            }\r\n        }\r\n    }, [history, userInfo, dispatch, user, success])\r\n\r\n    return (\r\n        <>\r\n            {/* { error && errorHandler()} */}\r\n            {loading && <Loader />}\r\n            <div className='flex column'>\r\n                <h1 className='my-2'>Edit Profile</h1>\r\n                <form onSubmit={submitHandler}>\r\n                    <input\r\n                        type=\"email\"\r\n                        required={true}\r\n                        className='input my-1'\r\n                        placeholder='Enter Email'\r\n                        value={email}\r\n                        onChange={e => setEmail(e.target.value)}\r\n                    />\r\n                    <input\r\n                        type=\"text\"\r\n                        required={true}\r\n                        className='input my-1'\r\n                        placeholder='Enter Name'\r\n                        value={name}\r\n                        onChange={e => setName(e.target.value)}\r\n                    />\r\n                    <input\r\n                        type=\"password\"\r\n                        required={true}\r\n                        className='input my-1'\r\n                        placeholder='Enter Password'\r\n                        value={password}\r\n                        onChange={e => setPassword(e.target.value)}\r\n                    />\r\n                    <input\r\n                        type=\"password\"\r\n                        required={true}\r\n                        className='input my-1'\r\n                        placeholder='Confirm Password'\r\n                        value={confirmPassword}\r\n                        onChange={e => setConfirmPassword(e.target.value)}\r\n                    />\r\n                    <button className='btn' type='submit'>Submit</button>\r\n                </form>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ProfileScreen\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst CheckoutSteps = ({ step1, step2, step3, step4 }) => {\r\n\r\n    return (\r\n        <nav>\r\n            <ul className='flex'>\r\n                <li className='mx-1'>\r\n                    {step1 ? <Link className='text-primary' to='/login'>Login</Link> : <span>Login</span>}\r\n                </li >\r\n                <li className='mx-1'>\r\n                    {step2 ? <Link className='text-primary' to='/shipping'>Shipping</Link> : <span>Shipping</span>}\r\n                </li>\r\n                <li className='mx-1'>\r\n                    {step3 ? <Link className='text-primary' to='/payment'>Payment</Link> : <span>Payment</span>}\r\n                </li>\r\n                <li className='mx-1'>\r\n                    {step4 ? <Link className='text-primary' to='/placeorder'>Place Order</Link> : <span>Place Order</span>}\r\n                </li>\r\n            </ul>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default CheckoutSteps\r\n","import React, { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { saveShippingAddress } from '../actions/cartActions'\r\nimport CheckoutSteps from '../components/CheckoutSteps'\r\n\r\nconst ShippingScreen = ({history}) => {\r\n\r\n    const cart = useSelector(state => state.cart)\r\n    const { shippingAddress } = cart\r\n    const dispatch = useDispatch()\r\n\r\n    const [address, setAddress] = useState(shippingAddress.address)\r\n    const [city, setCity] = useState(shippingAddress.city)\r\n    const [postalCode, setPostalCode] = useState(shippingAddress.postalCode)\r\n    const [country, setCountry] = useState(shippingAddress.country)\r\n\r\n    const submitHandler = e => {\r\n        e.preventDefault()\r\n        dispatch(saveShippingAddress({ address, city, postalCode, country}))\r\n        history.push('/payment')\r\n    }\r\n\r\n    return (\r\n        <div className='flex column'>\r\n            {/* {loading && <Loader />} */}\r\n            <CheckoutSteps step1 step2 />\r\n            <h1 className='my-2'>Shipping Address</h1>\r\n            <form onSubmit={submitHandler}>\r\n                <input\r\n                    type=\"text\"\r\n                    required={true}\r\n                    className='input my-1'\r\n                    placeholder='Street Address'\r\n                    value={address}\r\n                    onChange={e => setAddress(e.target.value)}\r\n                />\r\n                <input\r\n                    type=\"text\"\r\n                    required={true}\r\n                    className='input my-1'\r\n                    placeholder='City'\r\n                    value={city}\r\n                    onChange={e => setCity(e.target.value)}\r\n                />\r\n                <input\r\n                    type=\"text\"\r\n                    required={true}\r\n                    className='input my-1'\r\n                    placeholder='Postal Code'\r\n                    value={postalCode}\r\n                    onChange={e => setPostalCode(e.target.value)}\r\n                />\r\n                <input\r\n                    type=\"text\"\r\n                    required={true}\r\n                    className='input my-1'\r\n                    placeholder='Country'\r\n                    value={country}\r\n                    onChange={e => setCountry(e.target.value)}\r\n                />\r\n                <button className='btn' type='submit'>Submit</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ShippingScreen\r\n","import React, { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { savePaymentMethod } from '../actions/cartActions'\r\nimport CheckoutSteps from '../components/CheckoutSteps'\r\n\r\nconst PaymentScreen = ({ history }) => {\r\n\r\n    const cart = useSelector(state => state.cart)\r\n    const { shippingAddress } = cart\r\n\r\n    if (!shippingAddress) {\r\n        history.push('/shipping')\r\n    }\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const [paymentMethod, setPaymentMethod] = useState('PayPal')\r\n\r\n    const submitHandler = e => {\r\n        e.preventDefault()\r\n        dispatch(savePaymentMethod(paymentMethod))\r\n        history.push('/placeorder')\r\n    }\r\n\r\n    return (\r\n        <div className='flex column'>\r\n            {/* {loading && <Loader />} */}\r\n            <CheckoutSteps step1 step2 step3 />\r\n            <h1 className='my-2'>Payment Method</h1>\r\n            <form onSubmit={submitHandler} className='flex column'>\r\n                <div className=\"radio-input\">\r\n                    <label htmlFor=\"PayPal\">PayPal or Credit Card</label>\r\n                    <input\r\n                        id='PayPal'\r\n                        type=\"radio\"\r\n                        label='PayPal or Credit Card'\r\n                        name='paymentMethod'\r\n                        value='PayPal'\r\n                        className='mx-1'\r\n                        checked\r\n                        onChange={e => setPaymentMethod(e.target.value)}\r\n                    />\r\n                </div>\r\n                <div className=\"radio-input\">\r\n                    <label htmlFor=\"Stripe\">Stripe</label>\r\n                    <input\r\n                        id='Stripe'\r\n                        type=\"radio\"\r\n                        label='Stripe or Credit Card'\r\n                        name='paymentMethod'\r\n                        value='Stripe'\r\n                        className='mx-1'\r\n                        // disabled={true}\r\n                        onChange={e => setPaymentMethod(e.target.value)}\r\n                    />\r\n                </div>\r\n                <button className='btn' type='submit'>Continue</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PaymentScreen\r\n","import { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { createOrder  } from '../actions/orderActions'\r\nimport CheckoutSteps from '../components/CheckoutSteps'\r\nimport ImageLoader from '../components/ImageLoader'\r\n\r\nconst PlaceOrderScreen = ({ history }) => {\r\n\r\n    const cart = useSelector(state => state.cart)\r\n\r\n    const addDecimals = num => {\r\n        return (Math.round(num * 100) / 100).toFixed(2)\r\n    }\r\n\r\n    // Calculate Prices\r\n    cart.itemsPrice = addDecimals(cart.cartItems.reduce((acc, item) => acc + item.price * item.qty, 0))\r\n\r\n    cart.shippingPrice = addDecimals(cart.itemsPrice > 100 ? 0 : 100)\r\n\r\n    cart.taxPrice = addDecimals(Number((0.10 * cart.itemsPrice).toFixed(2)))\r\n    cart.totalPrice = (Number(cart.itemsPrice) + Number(cart.shippingPrice) + Number(cart.taxPrice)).toFixed(2)\r\n\r\n    const { address, postalCode, country, city } = cart.shippingAddress\r\n    const dispatch = useDispatch()\r\n\r\n    const orderCreate = useSelector(state => state.orderCreate)\r\n    const { order, success } = orderCreate\r\n\r\n    useEffect(() => {\r\n        if (success) {\r\n            history.push(`/order/${order._id}`)\r\n        }\r\n    }, [history, success])\r\n\r\n    const placeOrderHandler = () => {\r\n        dispatch(createOrder({\r\n            orderItems: cart.cartItems,\r\n            shippingAddress: cart.shippingAddress,\r\n            paymentMethod: cart.paymentMethod,\r\n            itemsPrice: cart.itemsPrice,\r\n            shippingPrice: cart.shippingPrice,\r\n            taxPrice: cart.taxPrice,\r\n            totalPrice: cart.totalPrice\r\n        }))\r\n    }\r\n\r\n\r\n    return (\r\n        <div className='flex column'>\r\n            <CheckoutSteps step1 step2 step3 step4 />\r\n            <div className='grid grid-offset my-1'>\r\n                <div className='order-details-container px-1'>\r\n                    <div className='address-'>\r\n                        <h2 className='underline'>Shipping</h2>\r\n                        <strong>Address: </strong>\r\n                        <p>{address}</p>\r\n                        <p>{city}</p>\r\n                        <p>{postalCode}</p>\r\n                        <p>{country}</p>\r\n                    </div>\r\n                    <div className='payment-field my-1 p-1 bg-primary border'>\r\n                        <h2 className='underline'>Payment Method</h2>\r\n                        <strong>Method: </strong>{cart.paymentMethod}\r\n                    </div>\r\n                    <div className='my-1 items-field'>\r\n                        <h2 className='underline'>Items</h2>\r\n                        {cart.cartItems.length === 0 ?\r\n                            <strong>Your Cart is Empty!</strong>\r\n                            :\r\n                            <div>\r\n                                {cart.cartItems.map((item, i) => (\r\n                                    <div\r\n                                        className='grid grid-3'\r\n                                        key={item.product}\r\n                                    >\r\n                                        <div style={{ maxWidth: '100px' }}>\r\n                                            <ImageLoader product={item} />\r\n                                        </div>\r\n                                        <Link to={`/product/${item.product}`}>{item.name}</Link>\r\n                                        {item.qty} x ${item.price} = ${item.price * item.qty}\r\n\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div >\r\n                    <div className='m0-auto p-1 bg-primary border'>\r\n                        <h2 className='m-1 text-center underline'>Summary</h2>\r\n                        <div className=\"pricing-breakdown\">\r\n                            <p><strong>Sub Total: </strong>${cart.itemsPrice}</p>\r\n                            <p><strong>Shipping: </strong>{cart.shippingPrice}</p>\r\n                            <p><strong>Tax: </strong>{cart.taxPrice}</p>\r\n                            <p ><strong className='m-1'>Total: </strong><strong>${cart.totalPrice}</strong></p>\r\n                            <button onClick={placeOrderHandler} className='btn btn-light m-1'>Place Order</button>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PlaceOrderScreen\r\n","import axios from 'axios'\r\nimport { SET_TOAST } from '../constants/toastConstants'\r\nimport { ORDER_CREATE_REQUEST, ORDER_CREATE_SUCCESS, ORDER_DELIVER_REQUEST, ORDER_DELIVER_SUCCESS, ORDER_DETAILS_FAIL, ORDER_DETAILS_REQUEST, ORDER_DETAILS_SUCCESS, ORDER_LISTALL_FAIL, ORDER_LISTALL_REQUEST, ORDER_LISTALL_SUCCESS, ORDER_LIST_MY_REQUEST, ORDER_LIST_MY_SUCCESS, ORDER_PAY_FAIL, ORDER_PAY_REQUEST, ORDER_PAY_SUCCESS, } from '../constants/orderConstants'\r\n\r\nexport const createOrder = (order) => async (dispatch, getState) => {\r\n    try {\r\n        dispatch({\r\n            type: ORDER_CREATE_REQUEST\r\n        })\r\n\r\n        const { userLogin: { userInfo } } = getState()\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                Authorization: `Bearer ${userInfo.token}`\r\n            }\r\n        }\r\n\r\n        const { data } = await axios.post(`/api/orders`, order, config)\r\n\r\n        dispatch({\r\n            type: ORDER_CREATE_SUCCESS,\r\n            payload: data\r\n        })\r\n\r\n\r\n    } catch (error) {\r\n        console.log('error hear', error)\r\n        dispatch({\r\n            type: SET_TOAST,\r\n            payload:\r\n            {\r\n                message: error.response\r\n                    && error.response.data.msg\r\n                    ? \"Order failed, \" + error.response.data.msg\r\n                    : \"Order failed, \" + error.message,\r\n                type: \"error\"\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport const getOrderDetails = (order) => async (dispatch, getState) => {\r\n    try {\r\n        dispatch({\r\n            type: ORDER_DETAILS_REQUEST\r\n        })\r\n\r\n        const { userLogin: { userInfo } } = getState()\r\n\r\n        const config = {\r\n            headers: {\r\n                Authorization: `Bearer ${userInfo.token}`\r\n            }\r\n        }\r\n\r\n        const { data } = await axios(`/api/orders/${order}`, config)\r\n\r\n        dispatch({\r\n            type: ORDER_DETAILS_SUCCESS,\r\n            payload: data\r\n        })\r\n\r\n\r\n    } catch (error) {\r\n\r\n        dispatch({\r\n            type: ORDER_DETAILS_FAIL,\r\n            payload: error.response\r\n                && error.response.data.msg\r\n                ? \"Order failed, \" + error.response.data.msg\r\n                : \"Order failed, \" + error.message,\r\n        })\r\n\r\n        dispatch({\r\n            type: SET_TOAST,\r\n            payload:\r\n            {\r\n                message: error.response\r\n                    && error.response.data.msg\r\n                    ? \"Order failed, \" + error.response.data.msg\r\n                    : \"Order failed, \" + error.message,\r\n                type: \"error\"\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport const payOrder = (order, paymentResult) => async (dispatch, getState) => {\r\n    try {\r\n        dispatch({\r\n            type: ORDER_PAY_REQUEST\r\n        })\r\n\r\n        const { userLogin: { userInfo } } = getState()\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                Authorization: `Bearer ${userInfo.token}`\r\n            }\r\n        }\r\n\r\n        const { data } = await axios.put(`/api/orders/${order}/pay`, paymentResult, config)\r\n\r\n        dispatch({\r\n            type: ORDER_PAY_SUCCESS,\r\n            payload: data\r\n        })\r\n\r\n\r\n    } catch (error) {\r\n\r\n        dispatch({\r\n            type: ORDER_PAY_FAIL,\r\n            payload: error.response\r\n                && error.response.data.msg\r\n                ? \"Order failed, \" + error.response.data.msg\r\n                : \"Order failed, \" + error.message,\r\n        })\r\n\r\n        dispatch({\r\n            type: SET_TOAST,\r\n            payload:\r\n            {\r\n                message: error.response\r\n                    && error.response.data.msg\r\n                    ? \"Order failed, \" + error.response.data.msg\r\n                    : \"Order failed, \" + error.message,\r\n                type: \"error\"\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport const deliverOrder = (id) => async (dispatch, getState) => {\r\n    try {\r\n        dispatch({\r\n            type: ORDER_DELIVER_REQUEST\r\n        })\r\n\r\n        const { userLogin: { userInfo } } = getState()\r\n\r\n        const config = {\r\n            headers: {\r\n                Authorization: `Bearer ${userInfo.token}`\r\n            }\r\n        }\r\n\r\n        const { data } = await axios.put(`/api/orders/${id}/deliver`, {}, config)\r\n\r\n        dispatch({\r\n            type: ORDER_DELIVER_SUCCESS,\r\n            payload: data\r\n        })\r\n\r\n\r\n    } catch (error) {\r\n\r\n        dispatch({\r\n            type: ORDER_DETAILS_FAIL,\r\n            payload: error.response\r\n                && error.response.data.msg\r\n                ? \"Order failed, \" + error.response.data.msg\r\n                : \"Order failed, \" + error.message,\r\n        })\r\n\r\n        dispatch({\r\n            type: SET_TOAST,\r\n            payload:\r\n            {\r\n                message: error.response\r\n                    && error.response.data.msg\r\n                    ? \"Order delivery update failed, \" + error.response.data.msg\r\n                    : \"Order delivery update failed, \" + error.message,\r\n                type: \"error\"\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport const listMyOrders = () => async (dispatch, getState) => {\r\n    try {\r\n        dispatch({\r\n            type: ORDER_LIST_MY_REQUEST\r\n        })\r\n\r\n        const { userLogin: { userInfo } } = getState()\r\n\r\n        const config = {\r\n            headers: {\r\n                Authorization: `Bearer ${userInfo.token}`\r\n            }\r\n        }\r\n\r\n        const { data } = await axios(`/api/orders/myorders`, config)\r\n            \r\n        dispatch({\r\n            type: ORDER_LIST_MY_SUCCESS,\r\n            payload: data\r\n        })\r\n\r\n\r\n    } catch (error) {\r\n\r\n        dispatch({\r\n            type: ORDER_PAY_FAIL,\r\n            payload: error.response\r\n                && error.response.data.msg\r\n                ? \"Order failed, \" + error.response.data.msg\r\n                : \"Order failed, \" + error.message,\r\n        })\r\n\r\n        dispatch({\r\n            type: SET_TOAST,\r\n            payload:\r\n            {\r\n                message: error.response\r\n                    && error.response.data.msg\r\n                    ? \"Order failed, \" + error.response.data.msg\r\n                    : \"Order failed, \" + error.message,\r\n                type: \"error\"\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport const listAllOrders = () => async (dispatch, getState) => {\r\n    try {\r\n        dispatch({\r\n            type: ORDER_LISTALL_REQUEST\r\n        })\r\n\r\n        const { userLogin: { userInfo } } = getState()\r\n\r\n        const config = {\r\n            headers: {\r\n                Authorization: `Bearer ${userInfo.token}`\r\n            }\r\n        }\r\n\r\n        const { data } = await axios(`/api/orders`, config)\r\n            console.log(data)\r\n        dispatch({\r\n            type: ORDER_LISTALL_SUCCESS,\r\n            payload: data\r\n        })\r\n\r\n\r\n    } catch (error) {\r\n\r\n        dispatch({\r\n            type: ORDER_LISTALL_FAIL,\r\n            payload: error.response\r\n                && error.response.data.msg\r\n                ? \"List All Orders Request Failed, \" + error.response.data.msg\r\n                : \"List All Orders Request Failed, \" + error.message,\r\n        })\r\n\r\n        dispatch({\r\n            type: SET_TOAST,\r\n            payload:\r\n            {\r\n                message: error.response\r\n                    && error.response.data.msg\r\n                    ? \"List All Orders Request Failed, \" + error.response.data.msg\r\n                    : \"List All Orders Request Failed, \" + error.message,\r\n                type: \"error\"\r\n            }\r\n        })\r\n    }\r\n}","import { useEffect, useState } from 'react'\r\nimport axios from 'axios'\r\nimport { PayPalButton } from 'react-paypal-button-v2'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { getOrderDetails, payOrder } from '../actions/orderActions'\r\nimport { setToast } from '../actions/toastActions'\r\nimport Loader from '../components/Loader'\r\nimport ImageLoader from '../components/ImageLoader'\r\nimport { ORDER_PAY_RESET } from '../constants/orderConstants'\r\n\r\nconst PlaceOrderScreen = ({ match }) => {\r\n\r\n    const dispatch = useDispatch()\r\n    const orderId = match.params.id\r\n\r\n    const [sdkReady, setSdkReady] = useState(false)\r\n\r\n    const orderDetails = useSelector(state => state.orderDetails)\r\n    const { order, loading, success } = orderDetails\r\n\r\n    const orderPay = useSelector(state => state.orderPay)\r\n    const { loading: loadingPay, success: successPay } = orderPay  //renaming loading and success variables\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        const addPayPalScript = async () => {\r\n            const { data: clientId } = await axios('/api/config/paypal')\r\n            const script = document.createElement('script')\r\n            script.type = 'text/javascript'\r\n            script.src = `https://www.paypal.com/sdk/js?client-id=${clientId}`\r\n            script.async = true\r\n            script.onload = () => {\r\n                setSdkReady(true)\r\n            }\r\n            document.body.appendChild(script)\r\n        }\r\n\r\n        if (!order || order._id !== orderId || successPay) {\r\n            dispatch({ type: ORDER_PAY_RESET })\r\n            dispatch(getOrderDetails(orderId))\r\n        } else if (!order.isPaid) {\r\n            if (!window.paypal) {\r\n                addPayPalScript()\r\n            } else {\r\n                setSdkReady(true)\r\n            }\r\n        }\r\n\r\n\r\n        if (success) dispatch(setToast(\"Congratulations! Your order is complete!\"))\r\n    }, [order, orderId, dispatch, successPay])\r\n\r\n    const successPaymentHandler = (paymentResult) => {\r\n        console.log(paymentResult)\r\n        dispatch(payOrder(orderId, paymentResult))\r\n    }\r\n\r\n    return (\r\n        loading  ? <Loader /> :\r\n            <>\r\n                <h1 className='text-center m-2' >Order #{order._id}</h1>\r\n                <div className='grid grid-offset my-1'>\r\n                    <div className='order-details-container px-1'>\r\n                        <div className='address-'>\r\n                            <h2 className='underline'>Shipping</h2>\r\n                            <p>{order.user.name}</p>\r\n                            <p>{order.shippingAddress.address}</p>\r\n                            <p>{order.shippingAddress.city}</p>\r\n                            <p>{order.shippingAddress.postalCode}</p>\r\n                            <p>{order.shippingAddress.country}</p>\r\n                        </div>\r\n                        <div className='payment-field my-1 p-1 bg-primary border'>\r\n                            <h2 className='underline'>Payment Method</h2>\r\n                            <p>{order.paymentMethod}</p>\r\n                            <strong className={!order.isPaid && 'text-error'}>\r\n                                {!order.isPaid ? \"Not Paid\" : \"Payment Successful!\"}\r\n                            </strong>\r\n                        </div>\r\n                        <div className='my-1 items-field'>\r\n                            <h2 className='underline'>Items</h2>\r\n                            {order.orderItems.length === 0 ?\r\n                                <strong>Order is Empty!</strong>\r\n                                :\r\n                                <div>\r\n                                    {order.orderItems.map((item, i) => (\r\n                                        <div\r\n                                            className='grid grid-3'\r\n                                            key={item.product}\r\n                                        >\r\n                                            <div style={{ maxWidth: '100px' }}>\r\n                                                <ImageLoader product={item} />\r\n                                            </div>\r\n                                            <Link to={`/product/${item.product}`}>{item.name}</Link>\r\n                                            {item.qty} x ${item.price} = ${item.price * item.qty}\r\n\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    <div >\r\n                        <div className='m0-auto p-1 bg-primary border'>\r\n                            <h2 className='m-1 text-center underline'>Summary</h2>\r\n                            <div className=\"pricing-breakdown\">\r\n                                <p><strong>Sub Total: </strong>${order.itemsPrice}</p>\r\n                                <p><strong>Shipping: </strong>{order.shippingPrice}</p>\r\n                                <p><strong>Tax: </strong>{order.taxPrice}</p>\r\n                                <div className='m-1'><h3>Total: </h3><strong>${order.totalPrice}</strong></div>\r\n                            </div>\r\n                            {!order.isPaid &&\r\n                                <div>\r\n                                    {loadingPay && <Loader />}\r\n                                    {!sdkReady ? <Loader /> : (\r\n                                        <PayPalButton\r\n                                            amount={order.totalPrice}\r\n                                            onSuccess={successPaymentHandler}\r\n                                        />\r\n                                    )}\r\n                                </div>\r\n                            }\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n    )\r\n}\r\n\r\nexport default PlaceOrderScreen\r\n","import { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { setToast } from '../actions/toastActions'\r\nimport Loader from '../components/Loader'\r\nimport { listMyOrders } from '../actions/orderActions'\r\n\r\nconst OrderHistoryScreen = ({ history }) => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const orderListMy = useSelector(state => state.orderListMy)\r\n    const { orders, loading: loadingOrders } = orderListMy\r\n\r\n    const userLogin = useSelector(state => state.userLogin)\r\n    const { userInfo } = userLogin\r\n\r\n    useEffect(() => {\r\n        if (!userInfo) {\r\n            history.push('/login')\r\n        } else {\r\n            dispatch(listMyOrders())\r\n        }\r\n    }, [history, userInfo, dispatch])\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            {loadingOrders ?\r\n                <Loader />\r\n                :\r\n                <div>\r\n                    <h1 className='text-center m-3'>Your Orders</h1>\r\n                    <table id=\"order\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <th>Order Id</th>\r\n                                <th>Date</th>\r\n                                <th>Total</th>\r\n                                <th>Paid</th>\r\n                                <th>Delivered</th>\r\n                            </tr>\r\n                            {orders.map(order => (\r\n                                <tr key={order._id}>\r\n                                    <td><Link to={`/order/${order._id}`}>{order._id}</Link></td>\r\n                                    <td>{new Date(order.createdAt).toLocaleDateString('en-US')}</td>\r\n                                    <td>{order.totalPrice}</td>\r\n                                    <td>\r\n                                        {\r\n                                          order.paidAt ? new Date(order.paidAt).toLocaleDateString('en-US') \r\n                                          : \r\n                                          <span style={{color: 'red'}}>Not Paid</span>\r\n                                        }\r\n                                    </td>\r\n                                    <td>\r\n                                        {\r\n                                            order.isDelivered ? new Date(order.isDelivered).toLocaleDateString('en-US') \r\n                                            :\r\n                                            \"Pending\"\r\n                                        }\r\n                                    </td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            }\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default OrderHistoryScreen\r\n\r\n\r\n{/* <tr className='flex'>\r\n                                <th>Order Id</th>\r\n                                <th>Date</th>\r\n                                <th>Total</th>\r\n                                <th>Paid</th>\r\n                                <th>Delivered</th>\r\n                            </tr>\r\n\r\n{orders.map(order => (\r\n    <tr>\r\n        <td>{order._id}</td>\r\n        <td>{order.paidAt ? new Date(order.paidAt).toLocaleDateString('en-US') : \"Not Paid\"}</td>\r\n        <td>{order.totalPrice}</td>\r\n        <td>{order.isPaid}</td>\r\n        <td>{order.isDelivered ? new Date(order.isDelivered).toLocaleDateString('en-US') : \"Pending\"}</td>\r\n    </tr>\r\n))} */}\r\n","import { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { setToast } from '../actions/toastActions'\r\nimport Loader from '../components/Loader'\r\nimport { listUsers, delelteUser } from '../actions/userActions'\r\n\r\nconst UserListScreen = ({ history }) => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const userList = useSelector(state => state.userList)\r\n    const { loading, error, users } = userList\r\n\r\n    const userLogin = useSelector(state => state.userLogin)\r\n    const { userInfo } = userLogin\r\n\r\n    const userDelete = useSelector(state => state.userDelete)\r\n    const { success:successDelete } = userDelete\r\n\r\n    useEffect(() => {\r\n        if(userInfo && userInfo.isAdmin) {\r\n        dispatch(listUsers())\r\n        } else {\r\n            history.push('/login')\r\n        }\r\n    }, [dispatch, history, successDelete, userInfo])\r\n\r\n    const handleDelete = id => {\r\n\r\n        if (window.confirm(\"Delete User?\")) {\r\n            dispatch(delelteUser(id))\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='flex column'>\r\n            {loading ?\r\n               <Loader />\r\n                :\r\n                <div>\r\n                    <h1 className='text-center m-3'>Users</h1>\r\n                    <table id=\"order\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <th>Id</th>\r\n                                <th>Name</th>\r\n                                <th>Email</th>\r\n                                <th>Admin</th>\r\n                                <th>Edit</th>\r\n                            </tr>\r\n                            {users.map(user => (\r\n                                <tr key={user._id}>\r\n                                    <td><Link to={`/user/${user._id}`}>{user._id}</Link></td>\r\n                                    <td>{user.name}</td>\r\n                                    <td><a href={`mailto:${user.email}`}>{user.email}</a></td>\r\n                                    <td>\r\n                                        {user.isAdmin ? <i className=\"fas fa-check\" style={{ color: 'green' }}></i>\r\n                                            :\r\n                                            <i className=\"fas fa-times\" style={{ color: '#ffcc00' }}></i>\r\n                                        }\r\n                                    </td>\r\n                                    <td>\r\n                                       <Link to={`/admin/user/${user._id}/edit`}>\r\n                                          <i className=\"fas fa-edit m-1\"></i>\r\n                                       </Link>\r\n                                       <i onClick={()=>handleDelete(user._id)}className=\"fas fa-trash m-1 pointer\" style={{color: 'red'}}></i>\r\n                                    </td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserListScreen\r\n","import { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Loader from '../components/Loader'\r\nimport { getUserDetails, updateUser } from '../actions/userActions'\r\nimport { USER_UPDATE_RESET } from '../constants/userConstants'\r\n\r\nconst UserEditScreen = ({ match, history }) => {\r\n\r\n    const userId = match.params.id\r\n\r\n    const [email, setEmail] = useState(\"\")\r\n    const [isAdmin, setIsAdmin] = useState(false)\r\n    const [name, setName] = useState(\"\")\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const userDetails = useSelector(state => state.userDetails)\r\n    const { user, loading } = userDetails\r\n\r\n    const userUpdate = useSelector(state => state.userUpdate)\r\n    const { loading: loadingUpdate, error: errorUpdate, success: successUpdate } = userUpdate\r\n\r\n    const submitHandler = e => {\r\n        e.preventDefault()\r\n        dispatch(updateUser({ _id: userId, name, email, isAdmin }))\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (successUpdate) {\r\n            dispatch({ type: USER_UPDATE_RESET })\r\n            history.push('/admin/userlist')\r\n        } else {\r\n            if (!user?.name || user._id !== userId) {\r\n                dispatch(getUserDetails(userId))\r\n            } else {\r\n                setName(user.name)\r\n                setEmail(user.email)\r\n                setIsAdmin(user.isAdmin)\r\n            }\r\n        }\r\n\r\n    }, [dispatch, user, userId, successUpdate, history])\r\n\r\n    const handleCheck = () => {  //Im not sure why but a handler must be used for checkbox instead of using setIsdmin (state)\r\n        setIsAdmin(!isAdmin)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Link to='/admin/userlist' className='btn'>Go Back</Link>\r\n\r\n            <div className='flex column'>\r\n                {/* { error && errorHandler()} */}\r\n\r\n                {loading || loadingUpdate ? <Loader /> :\r\n                    <>\r\n                        <h1 className='my-2'>Edit User</h1>\r\n                        <form onSubmit={submitHandler}>\r\n\r\n                            <input\r\n                                type=\"text\"\r\n                                required={true}\r\n                                className='input my-1'\r\n                                placeholder='Enter Name'\r\n                                value={name}\r\n                                onChange={e => setName(e.target.value)}\r\n                            />\r\n\r\n                            <input\r\n                                type=\"email\"\r\n                                required={true}\r\n                                className='input my-1'\r\n                                placeholder='Enter Email'\r\n                                value={email}\r\n                                onChange={e => setEmail(e.target.value)}\r\n                            />\r\n\r\n                            <div className=\"toggle-container\">\r\n                                <input\r\n                                    id=\"admin-checkbox\"\r\n                                    type=\"checkbox\"\r\n                                    className=\"toggle\"\r\n                                    checked={isAdmin}\r\n                                    onChange={handleCheck}\r\n                                />\r\n                                <label\r\n                                    htmlFor=\"admin-checkbox\"\r\n                                    className=\"label\"\r\n                                >\r\n                                    <div className=\"ball\"></div>\r\n                                </label>\r\n                                <span>Admin</span>\r\n                            </div>\r\n                            <button className='btn' type='submit'>Update</button>\r\n                        </form>\r\n                    </>\r\n                }\r\n            </div>\r\n        </>\r\n\r\n\r\n    )\r\n}\r\n\r\nexport default UserEditScreen\r\n","import { useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Loader from '../components/Loader'\r\nimport Paginate from '../components/Paginate'\r\nimport { listProducts, deleteProduct, createProduct } from '../actions/productActions'\r\n\r\nconst UserListScreen = ({ history, match }) => {\r\n\r\n    const pageNumber = match.params.pageNumber || 1\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const userLogin = useSelector(state => state.userLogin)\r\n    const { userInfo } = userLogin\r\n\r\n    const productList = useSelector(state => state.productList)\r\n    const { loading, products, page, pages } = productList\r\n\r\n    const productDelete = useSelector(state => state.productDelete)\r\n    const { loading: loadingDelete, success: succesDelete } = productDelete\r\n\r\n    const productCreate = useSelector(state => state.productCreate)\r\n    const { loading: loadingCreate, success: successCreate } = productCreate\r\n\r\n    useEffect(() => {\r\n        if (userInfo && userInfo.isAdmin) {\r\n            dispatch(listProducts('', pageNumber)) //empty string because we don't want to filter any products\r\n        } else {\r\n            history.push('/login')\r\n        }\r\n    }, [dispatch, history, userInfo, succesDelete, successCreate, pageNumber])\r\n\r\n    const handleDelete = id => {\r\n\r\n        if (window.confirm(\"Delete Product?\")) {\r\n            dispatch(deleteProduct(id))\r\n        }\r\n    }\r\n\r\n    const handleCreate = () => {\r\n        dispatch(createProduct())\r\n    }\r\n\r\n    return (\r\n        <div className='flex column'>\r\n            {loading || loadingDelete || loadingCreate ?\r\n                <Loader />\r\n                :\r\n                <>\r\n\r\n                    <h1 className='text-center m-3'>All Products</h1>\r\n\r\n                    <table id=\"order\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <th>Id</th>\r\n                                <th>Name</th>\r\n                                <th>Price</th>\r\n                                <th>Category</th>\r\n                                <th>Brand</th>\r\n                            </tr>\r\n                            {products.map(product => (\r\n                                <tr key={product._id}>\r\n                                    <td><Link to={`/product/${product._id}`}>{product._id}</Link></td>\r\n                                    <td>{product.name}</td>\r\n                                    <td>${product.price}</td>\r\n                                    <td>{product.category}</td>\r\n                                    <td>\r\n                                        <Link to={`/admin/product/${product._id}/edit`}>\r\n                                            <i className=\"fas fa-edit m-1\"></i>\r\n                                        </Link>\r\n                                        <i onClick={() => handleDelete(product._id)} className=\"fas fa-trash m-1 pointer\" style={{ color: 'red' }}></i>\r\n                                    </td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                    <div onClick={handleCreate} className='ml-auto p-1 pointer text-primary'>\r\n                        <i className=\"fas fa-plus\"></i> <span>Add Product</span>\r\n                    </div>\r\n                    <Paginate \r\n                      pages={pages} \r\n                      page={page} \r\n                      isAdmin={userInfo.isAdmin}\r\n                   />\r\n                </>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserListScreen\r\n","import { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport axios from 'axios'\r\nimport Loader from '../components/Loader'\r\nimport { listProductsDetails, updateProduct } from '../actions/productActions'\r\nimport { PRODUCT_UPDATE_RESET } from '../constants/productConstants'\r\nimport { SET_TOAST } from '../constants/toastConstants'\r\n\r\nconst ProductEditScreen = ({ match, history }) => {\r\n\r\n    const productId = match.params.id\r\n\r\n\r\n    const [name, setName] = useState('')\r\n    const [price, setPrice] = useState(0)\r\n    const [image, setImage] = useState('')\r\n    const [brand, setBrand] = useState('')\r\n    const [category, setCategory] = useState('')\r\n    const [countInStock, setCountInStock] = useState(0)\r\n    const [description, setDescription] = useState('')\r\n    const [uploading, setupLoading] = useState(false)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const productDetails = useSelector((state) => state.productDetails)\r\n    const { loading, error, product } = productDetails\r\n\r\n    const productUpdate = useSelector((state) => state.productUpdate)\r\n    const { loading: loadingUpdate, success: successUpdate } = productUpdate\r\n\r\n    useEffect(() => {\r\n        if (successUpdate) {\r\n            dispatch({ type: PRODUCT_UPDATE_RESET })\r\n            history.push('/admin/productlist')\r\n        } else {\r\n            if (!product.name || product._id !== productId) {\r\n                dispatch(listProductsDetails(productId))\r\n\r\n            } else {\r\n                setName(product.name)\r\n                setPrice(product.price)\r\n                setImage(product.image)\r\n                setBrand(product.brand)\r\n                setCategory(product.category)\r\n                setCountInStock(product.countInStock)\r\n                setDescription(product.description)\r\n            }\r\n        }\r\n    }, [dispatch, history, productId, product, successUpdate])\r\n\r\n    const uploadFileHandler = async e => {\r\n        const file = e.target.files[0]  //files returns an array; we just want the file one\r\n        const formData = new FormData()\r\n        formData.append('image', file)\r\n\r\n        setupLoading(true)\r\n\r\n        try {\r\n            const config = {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data'\r\n                }\r\n            }\r\n\r\n            const { data } = await axios.post('/api/upload', formData, config)\r\n            \r\n            setImage(data)\r\n            setupLoading(false)\r\n\r\n        } catch (error) {\r\n            console.log(error.message)\r\n            dispatch({\r\n                type: SET_TOAST,\r\n                payload: {\r\n                    message: error.response && error.response.data.msg ? error.response.data.msg : error.message,\r\n                    type: \"error\"\r\n                }\r\n            })\r\n            setupLoading(false)\r\n        }\r\n    }\r\n\r\n    const submitHandler = () => {\r\n\r\n        dispatch(\r\n            updateProduct({\r\n                _id: product._id,\r\n                name,\r\n                price,\r\n                image,\r\n                brand,\r\n                category,\r\n                description,\r\n                countInStock\r\n            })\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Link to='/admin/productlist' className='btn'>Go Back</Link>\r\n\r\n            <div className='flex column'>\r\n                {/* { error && errorHandler()} */}\r\n\r\n                {loading || loadingUpdate ? <Loader /> :\r\n                    <>\r\n                        <h1 className='my-2'>Edit Product</h1>\r\n                        <form onSubmit={submitHandler}>\r\n\r\n                            <input\r\n                                type=\"text\"\r\n                                required={true}\r\n                                className='input my-1'\r\n                                placeholder='Enter Name'\r\n                                value={name}\r\n                                onChange={e => setName(e.target.value)}\r\n                            />\r\n\r\n                            <input\r\n                                type=\"number\"\r\n                                required={true}\r\n                                className='input my-1'\r\n                                placeholder='Enter Price'\r\n                                value={price}\r\n                                onChange={e => setPrice(e.target.value)}\r\n                            />\r\n\r\n                            <input\r\n                                type=\"text\"\r\n                                required={true}\r\n                                className='input my-1'\r\n                                placeholder='Brand'\r\n                                value={brand}\r\n                                onChange={e => setBrand(e.target.value)}\r\n                            />\r\n                            <input\r\n                                type=\"text\"\r\n                                required={true}\r\n                                className='input my-1'\r\n                                placeholder='Category'\r\n                                value={category}\r\n                                onChange={e => setCategory(e.target.value)}\r\n                            />\r\n\r\n                            <input\r\n                                type=\"number\"\r\n                                required={true}\r\n                                className='input my-1'\r\n                                placeholder='Count in stock'\r\n                                value={countInStock}\r\n                                onChange={e => setCountInStock(e.target.value)}\r\n                            />\r\n                            <input\r\n                                type=\"text\"\r\n                                required={true}\r\n                                className='input my-1'\r\n                                placeholder='Description'\r\n                                value={description}\r\n                                onChange={e => setDescription(e.target.value)}\r\n                            />\r\n                            <input\r\n                                type=\"text\"\r\n                                required={true}\r\n                                className='input my-1'\r\n                                placeholder='Image Url'\r\n                                value={image}\r\n                                onChange={e => setImage(e.target.value)}\r\n                            />\r\n\r\n                            <input\r\n                                type=\"file\"\r\n                                placeholder='Upload Image'\r\n                                id=\"Choose-File\"\r\n                                style={{ display: 'none' }}\r\n                                onChange={uploadFileHandler}\r\n                            />\r\n                            <div className='flex-end'>\r\n                                <label htmlFor=\"Choose-File\" className='pointer text-primary ml-auto'>\r\n                                    {!uploading ?\r\n                                        <>\r\n                                            <i className='fas fa-plus'></i><strong> Upload Image</strong>\r\n                                        </>\r\n                                        :\r\n                                        <Loader />\r\n                                    }\r\n                                </label>\r\n                            </div>\r\n                            <div className='my-2'>\r\n                                <button className='btn' type='submit'>Update</button>\r\n                            </div>\r\n                        </form>\r\n                    </>\r\n                }\r\n            </div>\r\n        </>\r\n\r\n\r\n    )\r\n}\r\n\r\nexport default ProductEditScreen\r\n","import { useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Loader from '../components/Loader'\r\nimport { listAllOrders, deliverOrder } from '../actions/orderActions'\r\n\r\nconst OrderListScreen = ({ history }) => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const orderListAll = useSelector(state => state.orderListAll)\r\n    const { loading, orders } = orderListAll\r\n\r\n\r\n    const userLogin = useSelector(state => state.userLogin)\r\n    const { userInfo } = userLogin\r\n\r\n    const orderDeliver = useSelector(state => state.orderDeliver)\r\n    const { loading: loadingDeliver, success: successDeliver } = orderDeliver\r\n\r\n    useEffect(() => {\r\n        if (userInfo && userInfo.isAdmin) {\r\n            dispatch(listAllOrders())\r\n        } else {\r\n            history.push('/login')\r\n        }\r\n    }, [dispatch, history, userInfo, successDeliver])\r\n\r\n    const handleMarkedDelivered = id => {\r\n\r\n        if (window.confirm(`Mark order #${id} as delivered?`)) {\r\n            dispatch(deliverOrder(id))\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='flex column'>\r\n            {loading ?\r\n                <Loader />\r\n                :\r\n                <div>\r\n                    <h1 className='text-center m-3'>All User Orders</h1>\r\n                    <table id=\"order\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <th>Id</th>\r\n                                <th>Date</th>\r\n                                <th>Paid</th>\r\n                                <th>Email</th>\r\n                                <th>Shipped</th>\r\n                                <th>Recieved</th>\r\n                            </tr>\r\n                            {orders.map(order => (\r\n                                <tr key={order._id}>\r\n                                    <td>\r\n                                        <Link \r\n                                          className='text-primary'\r\n                                          to={`/order/${order._id}/edit`}>{order._id}\r\n                                        </Link>\r\n                                    </td>\r\n                                    <td>{new Date(order.createdAt).toLocaleDateString('en-US')}</td>\r\n                                    <td>{order.paymentResult && order.paymentResult.status}</td>\r\n                                    <td><a href={`mailto:${order.paymentResult && order.paymentResult.email_address}`}>{order.paymentResult && order.paymentResult.email_address}</a></td>\r\n                                    <td>\r\n                                        {order.isDelivered ? new Date(order.createdAt).toLocaleDateString('en-US')\r\n                                            :\r\n                                            <i className=\"fas fa-times\" style={{ color: '#ffcc00' }}></i>\r\n                                        }\r\n                                    </td>\r\n                                    <td>\r\n                                        {/* Need to add received property to order model */}\r\n                                        {order.isDelivered ?\r\n                                            <p>Recieved</p>\r\n                                            :\r\n                                            <i\r\n                                                onClick={() => handleMarkedDelivered(order._id)}\r\n                                                className=\"fas fa-edit m-1 pointer\">\r\n                                            </i>\r\n                                        }\r\n                                        {/* <i onClick={()=>handleDelete(order._id)}className=\"fas fa-trash m-1 pointer\" style={{color: 'red'}}></i> */}\r\n                                    </td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default OrderListScreen\r\n","import React from 'react'\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\r\nimport Header from './components/Header'\r\nimport Toast from './components/Toast/Toast'\r\nimport Footer from './components/Footer'\r\nimport HomeScreen from './screens/HomeScreen'\r\nimport ProductScreen from './screens/ProductScreen'\r\nimport CartScreen from './screens/CartScreen'\r\nimport Loginscreen from './screens/Loginscreen'\r\nimport RegisterScreen from './screens/RegisterScreen'\r\nimport ProfileScreen from './screens/ProfileScreen'\r\nimport ShippingScreen from './screens/ShippingScreen'\r\nimport PaymentScreen from './screens/PaymentScreen'\r\nimport PlaceOrderScreen from './screens/PlaceOrderScreen'\r\nimport OrderScreen from './screens/OrderScreen'\r\nimport OrderHistoryScreen from './screens/OrderHistoryScreen'\r\nimport UserListScreen from './screens/UserListScreen'\r\nimport UserEditScreen from './screens/UserEditScreen'\r\nimport ProductListScreen from './screens/ProductListScreen'\r\nimport ProductEditScreen from './screens/ProductEditScreen'\r\nimport OrderListScreen from './screens/OrderListScreen'\r\n\r\nimport './utilities.css'\r\nimport './styles.css'\r\n\r\nconst App = () => {\r\n    return (\r\n        <Router>\r\n            <Header />\r\n            <Toast />\r\n            <main className=\"container calc-height\">\r\n                <Route path='/' exact component={HomeScreen} />\r\n                <Route path='/shipping' component={ShippingScreen} />\r\n                <Route path='/order/:id' component={OrderScreen} />\r\n                <Route path='/placeorder' component={PlaceOrderScreen} />\r\n                <Route path='/payment' component={PaymentScreen} />\r\n                <Route path='/login' component={Loginscreen} />\r\n                <Route path='/product/:id' component={ProductScreen} />\r\n                <Route path='/admin/product/:id' component={ProductEditScreen} />\r\n                <Route path='/admin/productlist' exact component={ProductListScreen} />\r\n                <Route path='/admin/productlist/:pageNumber' exact component={ProductListScreen} />\r\n                <Route path='/cart/:id?' component={CartScreen} /> {/* question mark after id makes it optional*/}\r\n                <Route path='/register' component={RegisterScreen} />\r\n                <Route path='/profile' component={ProfileScreen} />\r\n                <Route path='/orderhistory' component={OrderHistoryScreen} />\r\n                <Route path='/admin/orderlist' component={OrderListScreen} />\r\n                <Route path='/admin/userlist' component={UserListScreen} />\r\n                <Route path='/search/:keyword' component={HomeScreen} exact />\r\n                <Route path='/page/:pageNumber' component={HomeScreen} exact />\r\n                <Route\r\n                    path='/search/:keyword/page/:pageNumber'\r\n                    component={HomeScreen}\r\n                    exact\r\n                />\r\n                <Route path='/admin/user/:id/edit' component={UserEditScreen} />\r\n            </main>\r\n            <Footer />\r\n        </Router>\r\n    )\r\n}\r\n\r\nexport default App\r\n","import ReactDOM from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\nimport store from './store'\r\nimport App from './App'\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>, document.querySelector('#root')\r\n\r\n)"],"sourceRoot":""}